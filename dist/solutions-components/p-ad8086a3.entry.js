/*!
 * Copyright 2022 Esri
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 */
import{r as s,c as i,h as t,H as a,g as e}from"./p-c2f00d41.js";import{l as h}from"./p-1dce7467.js";import{g as r}from"./p-e938fea6.js";import"./p-3b010ce1.js";const c=class{constructor(t){s(this,t),this.searchChange=i(this,"searchChange",7),this.mapView=void 0,this._searchTerm=void 0,this._translations=void 0}async clear(){this._searchWidget.clear()}async componentWillLoad(){await this._getTranslations(),await this._initModules()}componentDidLoad(){this._init()}render(){return t(a,null,t("div",{class:"search-widget",ref:s=>{this._searchElement=s}}))}async _initModules(){const[s]=await h(["esri/widgets/Search"]);this.Search=s}_init(){this._initSearchWidget()}_initSearchWidget(){this.mapView&&this._searchElement&&(this._searchWidget=new this.Search({view:this.mapView,container:this._searchElement,searchTerm:this._searchTerm}),this._searchWidget.on("search-clear",(()=>{this._searchResult=void 0,this.searchChange.emit(this._searchResult)})),this._searchWidget.on("select-result",(s=>{this._searchResult=void 0,s.result&&(this._searchResult=s.result,this.searchChange.emit({graphics:[s.result.feature],name:s.result.name||""}))})))}async _getTranslations(){const s=await r(this.el);this._translations=s[0]}get el(){return e(this)}};c.style=":host{display:block}.search-widget{width:100% !important;border:1px solid var(--calcite-ui-border-input)}";export{c as map_search}