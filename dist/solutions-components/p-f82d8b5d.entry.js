/*!
 * Copyright 2022 Esri
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 */
import{r as t,c as i,h as e,g as a,F as n}from"./p-f8be5d5f.js";import{c as o}from"./p-631b6461.js";import{h as c}from"./p-dd3d070d.js";import{c as r,d as s,a as l,H as d}from"./p-bf0c6866.js";import{u as h}from"./p-c0d3537c.js";import{c as m,d as p,g as u}from"./p-24cb0a19.js";import{s as f,a as v,c as b}from"./p-5b5ad89d.js";import"./p-d1bcb992.js";import"./p-062f1fe7.js";const g=class{constructor(e){t(this,e),this.calciteInternalOptionChange=i(this,"calciteInternalOptionChange",6),this.mutationObserver=o("mutation",(()=>{this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()})),this.disabled=!1,this.label=void 0,this.selected=void 0,this.value=void 0}handlePropChange(t,i,e){"label"!==e&&"value"!==e||this.ensureTextContentDependentProps(),this.calciteInternalOptionChange.emit()}ensureTextContentDependentProps(){const{el:{textContent:t}}=this;this.label&&this.label!==this.internallySetLabel||(this.label=t,this.internallySetLabel=t),this.value&&this.value!==this.internallySetValue||(this.value=t,this.internallySetValue=t)}connectedCallback(){var t;this.ensureTextContentDependentProps(),null===(t=this.mutationObserver)||void 0===t||t.observe(this.el,{attributeFilter:["label","value"],characterData:!0,childList:!0,subtree:!0})}disconnectedCallback(){var t;null===(t=this.mutationObserver)||void 0===t||t.disconnect()}render(){return e("slot",null,this.label)}get el(){return a(this)}static get watchers(){return{disabled:["handlePropChange"],label:["handlePropChange"],selected:["handlePropChange"],value:["handlePropChange"]}}};g.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:block}";function y(t){return"CALCITE-OPTION"===t.tagName}const w=class{constructor(e){t(this,e),this.calciteSelectChange=i(this,"calciteSelectChange",6),this.componentToNativeEl=new Map,this.mutationObserver=o("mutation",(()=>this.populateInternalSelect())),this.handleInternalSelectChange=()=>{this.selectFromNativeOption(this.selectEl.selectedOptions[0]),requestAnimationFrame((()=>this.emitChangeEvent()))},this.populateInternalSelect=()=>{const t=Array.from(this.el.children).filter((t=>"CALCITE-OPTION"===t.tagName||"CALCITE-OPTION-GROUP"===t.tagName));this.clearInternalSelect(),t.forEach((t=>{var i;return null===(i=this.selectEl)||void 0===i?void 0:i.append(this.toNativeElement(t))}))},this.storeSelectRef=t=>{this.selectEl=t,this.populateInternalSelect(),this.selectFromNativeOption(this.selectEl.selectedOptions[0])},this.emitChangeEvent=()=>{this.calciteSelectChange.emit()},this.disabled=!1,this.form=void 0,this.label=void 0,this.name=void 0,this.required=!1,this.scale="m",this.value=null,this.selectedOption=void 0,this.width="auto"}valueHandler(t){this.el.querySelectorAll("calcite-option").forEach((i=>i.selected=i.value===t))}selectedOptionHandler(t){this.value=null==t?void 0:t.value}connectedCallback(){var t;const{el:i}=this;null===(t=this.mutationObserver)||void 0===t||t.observe(i,{subtree:!0,childList:!0}),m(this),r(this)}disconnectedCallback(){var t;null===(t=this.mutationObserver)||void 0===t||t.disconnect(),p(this),s(this)}componentWillLoad(){f(this)}componentDidLoad(){var t,i;v(this),l(this,null!==(i=null===(t=this.selectedOption)||void 0===t?void 0:t.value)&&void 0!==i?i:"")}componentDidRender(){h(this)}async setFocus(){await b(this),c(this.selectEl)}handleOptionOrGroupChange(t){t.stopPropagation();const i=t.target,e=this.componentToNativeEl.get(i);e&&(this.updateNativeElement(i,e),y(i)&&i.selected&&(this.deselectAllExcept(i),this.selectedOption=i))}onLabelClick(){this.setFocus()}updateNativeElement(t,i){if(i.disabled=t.disabled,i.label=t.label,y(t)){const e=i;e.selected=t.selected,e.value=t.value,e.innerText=t.label}}clearInternalSelect(){this.componentToNativeEl.forEach((t=>t.remove())),this.componentToNativeEl.clear()}selectFromNativeOption(t){if(!t)return;let i;this.componentToNativeEl.forEach(((e,a)=>{y(a)&&e===t&&(a.selected=!0,i=a,this.deselectAllExcept(a))})),i&&(this.selectedOption=i)}toNativeElement(t){if(y(t)){const i=document.createElement("option");return this.updateNativeElement(t,i),this.componentToNativeEl.set(t,i),i}if(function(t){return"CALCITE-OPTION-GROUP"===t.tagName}(t)){const i=document.createElement("optgroup");return this.updateNativeElement(t,i),Array.from(t.children).forEach((e=>{const a=this.toNativeElement(e);i.append(a),this.componentToNativeEl.set(t,a)})),this.componentToNativeEl.set(t,i),i}throw new Error("unsupported element child provided")}deselectAllExcept(t){this.el.querySelectorAll("calcite-option").forEach((i=>{i!==t&&(i.selected=!1)}))}renderChevron(){return e("div",{class:"icon-container"},e("calcite-icon",{class:"icon",icon:"chevron-down",scale:"l"===this.scale?"m":"s"}))}render(){return e(n,null,e("select",{"aria-label":u(this),class:"select",disabled:this.disabled,onChange:this.handleInternalSelectChange,ref:this.storeSelectRef},e("slot",null)),this.renderChevron(),e(d,{component:this}))}get el(){return a(this)}static get watchers(){return{value:["valueHandler"],selectedOption:["selectedOptionHandler"]}}};w.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0.01}}:host{--calcite-icon-size:1rem;--calcite-spacing-eighth:0.125rem;--calcite-spacing-quarter:0.25rem;--calcite-spacing-half:0.5rem;--calcite-spacing-three-quarters:0.75rem;--calcite-spacing:1rem;--calcite-spacing-plus-quarter:1.25rem;--calcite-spacing-plus-half:1.5rem;--calcite-spacing-double:2rem;--calcite-menu-min-width:10rem;--calcite-header-min-height:3rem;--calcite-footer-min-height:3rem}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{position:relative;display:flex;align-items:stretch;inline-size:var(--select-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale=s]){block-size:1.5rem;--calcite-select-font-size:var(--calcite-font-size--2);--calcite-select-spacing-inline:0.5rem 2rem}:host([scale=s]) .icon-container{padding-inline:0.5rem}:host([scale=m]){block-size:2rem;--calcite-select-font-size:var(--calcite-font-size--1);--calcite-select-spacing-inline:0.75rem 2.5rem}:host([scale=m]) .icon-container{padding-inline:0.75rem}:host([scale=l]){block-size:44px;--calcite-select-font-size:var(--calcite-font-size-0);--calcite-select-spacing-inline:1rem 3rem}:host([scale=l]) .icon-container{padding-inline:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}.select{margin:0px;box-sizing:border-box;inline-size:100%;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:0px;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);font-family:inherit;color:var(--calcite-ui-text-2);outline-color:transparent;font-size:var(--calcite-select-font-size);padding-inline:var(--calcite-select-spacing-inline);border-inline-end-width:0px}.select:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}.select:hover{background-color:var(--calcite-ui-foreground-2)}select:disabled{border-color:var(--calcite-ui-border-input);--tw-bg-opacity:1}.icon-container{pointer-events:none;position:absolute;inset-block:0px;display:flex;align-items:center;border-width:0px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:transparent;color:var(--calcite-ui-text-2);inset-inline-end:0px;border-inline-width:0px 1px}.select:focus~.icon-container{border-color:transparent}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}";export{g as calcite_option,w as calcite_select}