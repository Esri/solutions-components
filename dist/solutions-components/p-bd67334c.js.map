{"file":"p-bd67334c.js","mappings":"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","names":[],"sources":["./node_modules/@esri/calcite-components/dist/collection/utils/label.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.97\n */\nimport { closestElementCrossShadowBoundary, queryElementRoots } from \"./dom\";\n/**\n * Exported for testing purposes only\n *\n * @internal\n */\nexport const labelClickEvent = \"calciteInternalLabelClick\";\nexport const labelConnectedEvent = \"calciteInternalLabelConnected\";\nexport const labelDisconnectedEvent = \"calciteInternaLabelDisconnected\";\nconst labelTagName = \"calcite-label\";\nconst onLabelClickMap = new WeakMap();\nconst onLabelConnectedMap = new WeakMap();\nconst onLabelDisconnectedMap = new WeakMap();\nconst unlabeledComponents = new Set();\nconst findLabelForComponent = (componentEl) => {\n  const { id } = componentEl;\n  const forLabel = id && queryElementRoots(componentEl, { selector: `${labelTagName}[for=\"${id}\"]` });\n  if (forLabel) {\n    return forLabel;\n  }\n  const parentLabel = closestElementCrossShadowBoundary(componentEl, labelTagName);\n  if (!parentLabel ||\n    // labelable components within other custom elements are not considered labelable\n    hasAncestorCustomElements(parentLabel, componentEl)) {\n    return null;\n  }\n  return parentLabel;\n};\nfunction hasAncestorCustomElements(label, componentEl) {\n  let traversedElements;\n  const customElementAncestorCheckEventType = \"custom-element-ancestor-check\";\n  const listener = (event) => {\n    event.stopImmediatePropagation();\n    const composedPath = event.composedPath();\n    traversedElements = composedPath.slice(composedPath.indexOf(componentEl), composedPath.indexOf(label));\n  };\n  label.addEventListener(customElementAncestorCheckEventType, listener, { once: true });\n  componentEl.dispatchEvent(new CustomEvent(customElementAncestorCheckEventType, { composed: true, bubbles: true }));\n  label.removeEventListener(customElementAncestorCheckEventType, listener);\n  const ancestorCustomElements = traversedElements\n    .filter((el) => el !== componentEl && el !== label)\n    .filter((el) => { var _a; return (_a = el.tagName) === null || _a === void 0 ? void 0 : _a.includes(\"-\"); });\n  return ancestorCustomElements.length > 0;\n}\n/**\n * Helper to set up label interactions on connectedCallback.\n *\n * @param component\n */\nexport function connectLabel(component) {\n  const labelEl = findLabelForComponent(component.el);\n  if (onLabelClickMap.has(labelEl) || (!labelEl && unlabeledComponents.has(component))) {\n    return;\n  }\n  const boundOnLabelDisconnected = onLabelDisconnected.bind(component);\n  if (labelEl) {\n    component.labelEl = labelEl;\n    const boundOnLabelClick = onLabelClick.bind(component);\n    onLabelClickMap.set(component.labelEl, boundOnLabelClick);\n    component.labelEl.addEventListener(labelClickEvent, boundOnLabelClick);\n    unlabeledComponents.delete(component);\n    document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n    onLabelDisconnectedMap.set(component, boundOnLabelDisconnected);\n    document.addEventListener(labelDisconnectedEvent, boundOnLabelDisconnected);\n  }\n  else if (!unlabeledComponents.has(component)) {\n    boundOnLabelDisconnected();\n    document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  }\n}\n/**\n * Helper to tear down label interactions on disconnectedCallback on labelable components.\n *\n * @param component\n */\nexport function disconnectLabel(component) {\n  unlabeledComponents.delete(component);\n  document.removeEventListener(labelConnectedEvent, onLabelConnectedMap.get(component));\n  document.removeEventListener(labelDisconnectedEvent, onLabelDisconnectedMap.get(component));\n  onLabelConnectedMap.delete(component);\n  onLabelDisconnectedMap.delete(component);\n  if (!component.labelEl) {\n    return;\n  }\n  const boundOnLabelClick = onLabelClickMap.get(component.labelEl);\n  component.labelEl.removeEventListener(labelClickEvent, boundOnLabelClick);\n  onLabelClickMap.delete(component.labelEl);\n}\n/**\n * Helper to get the label text from a component.\n *\n * @param component\n */\nexport function getLabelText(component) {\n  var _a, _b;\n  return component.label || ((_b = (_a = component.labelEl) === null || _a === void 0 ? void 0 : _a.textContent) === null || _b === void 0 ? void 0 : _b.trim()) || \"\";\n}\nfunction onLabelClick(event) {\n  if (this.disabled) {\n    return;\n  }\n  const containedLabelableChildClicked = this.el.contains(event.detail.sourceEvent.target);\n  if (containedLabelableChildClicked) {\n    return;\n  }\n  this.onLabelClick(event);\n}\nfunction onLabelConnected() {\n  if (unlabeledComponents.has(this)) {\n    connectLabel(this);\n  }\n}\nfunction onLabelDisconnected() {\n  unlabeledComponents.add(this);\n  const boundOnLabelConnected = onLabelConnectedMap.get(this) || onLabelConnected.bind(this);\n  onLabelConnectedMap.set(this, boundOnLabelConnected);\n  document.addEventListener(labelConnectedEvent, boundOnLabelConnected);\n}\n"],"version":3}