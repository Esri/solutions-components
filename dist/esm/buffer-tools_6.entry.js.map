{"file":"buffer-tools.calcite-radio-group.calcite-radio-group-item.calcite-slider.map-draw-tools.refine-selection-tools.entry.js","mappings":"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","names":["CSS"],"sources":["./src/components/buffer-tools/buffer-tools.css?tag=buffer-tools&encapsulation=shadow","./src/components/buffer-tools/buffer-tools.tsx","./node_modules/@esri/calcite-components/dist/collection/components/radio-group/radio-group.css?tag=calcite-radio-group&encapsulation=shadow","./node_modules/@esri/calcite-components/dist/collection/components/radio-group/radio-group.js","./node_modules/@esri/calcite-components/dist/collection/components/radio-group-item/resources.js","./node_modules/@esri/calcite-components/dist/collection/components/radio-group-item/radio-group-item.css?tag=calcite-radio-group-item&encapsulation=shadow","./node_modules/@esri/calcite-components/dist/collection/components/radio-group-item/radio-group-item.js","./node_modules/@esri/calcite-components/dist/collection/components/slider/resources.js","./node_modules/@esri/calcite-components/dist/collection/components/slider/slider.css?tag=calcite-slider&encapsulation=shadow","./node_modules/@esri/calcite-components/dist/collection/components/slider/slider.js","./src/components/map-draw-tools/map-draw-tools.css?tag=map-draw-tools","./src/components/map-draw-tools/map-draw-tools.tsx","./src/components/refine-selection-tools/refine-selection-tools.css?tag=refine-selection-tools&encapsulation=shadow","./src/components/refine-selection-tools/refine-selection-tools.tsx"],"sourcesContent":["/** @license\r\n * Copyright 2022 Esri\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.c-container {\r\n  display: inline-flex;\r\n}\r\n\r\n.flex-1 {\r\n  flex: \"1\";\r\n}\r\n\r\n.padding-end-1 {\r\n  padding-inline-end: 1rem;\r\n}\r\n","/** @license\r\n * Copyright 2022 Esri\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { Component, Element, Event, EventEmitter, Host, h, Prop, State, VNode, Watch } from \"@stencil/core\";\r\nimport { loadModules } from \"../../utils/loadModules\";\r\nimport BufferTools_T9n from \"../../assets/t9n/buffer-tools/resources.json\";\r\nimport { getLocaleComponentStrings } from \"../../utils/locale\";\r\nimport { DistanceUnit } from \"../../utils/interfaces\";\r\n\r\n@Component({\r\n  tag: \"buffer-tools\",\r\n  styleUrl: \"buffer-tools.css\",\r\n  shadow: true,\r\n})\r\nexport class BufferTools {\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Host element access\r\n  //\r\n  //--------------------------------------------------------------------------\r\n  @Element() el: HTMLBufferToolsElement;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Properties (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * string: The appearance of display. Can be a \"slider\" or \"text\" inputs for distance/value\r\n   */\r\n  @Prop({ mutable: true }) appearance: \"slider\" | \"text\" = \"text\";\r\n\r\n  /**\r\n   * number: The distance used for buffer\r\n   */\r\n  @Prop({ mutable: true }) distance = 0;\r\n\r\n  /**\r\n   * esri/geometry/Geometry: https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Geometry.html\r\n   */\r\n  @Prop({ mutable: true }) geometries: __esri.Geometry[] = [];\r\n\r\n  /**\r\n   * number: The component's maximum selectable value.\r\n   */\r\n  @Prop({ mutable: true }) sliderMax = 100;\r\n\r\n  /**\r\n   * number: The component's minimum selectable value.\r\n   */\r\n  @Prop({ mutable: true }) sliderMin = 0;\r\n\r\n  /**\r\n   * number: Displays tick marks on the number line at a specified interval.\r\n   */\r\n  @Prop({ mutable: true }) sliderTicks = 10;\r\n\r\n  /**\r\n   * boolean: option to control if buffer results should be unioned\r\n   */\r\n  @Prop({ mutable: true }) unionResults = true;\r\n\r\n  /**\r\n   * DistanceUnit: \"feet\"|\"meters\"|\"miles\"|\"kilometers\"\r\n   */\r\n  @Prop({ mutable: true }) unit: DistanceUnit = \"meters\";\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  State (internal)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Contains the translations for this component.\r\n   * All UI strings should be defined here.\r\n   */\r\n  @State() _translations: typeof BufferTools_T9n;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Properties (protected)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * geometryEngine: https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-geometryEngine.html\r\n   */\r\n  protected _geometryEngine: __esri.geometryEngine;\r\n\r\n  /**\r\n   * Timeout: https://nodejs.org/en/docs/guides/timers-in-node/\r\n   */\r\n  protected _bufferTimeout: NodeJS.Timeout;\r\n\r\n  /**\r\n   * HTMLCalciteSelectElement: The html element for selecting buffer unit\r\n   */\r\n  protected _unitElement: HTMLCalciteSelectElement;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Watch handlers\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Called each time the geometries prop is changed.\r\n   * Buffer each of the geometries.\r\n   *\r\n   */\r\n  @Watch(\"geometries\")\r\n  geometriesWatchHandler(v: any, oldV: any): void {\r\n    if (v && JSON.stringify(v) !== JSON.stringify(oldV)) {\r\n      this._buffer();\r\n    }\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Methods (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Events (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Emitted on demand when a buffer is generated.\r\n   */\r\n  @Event() bufferComplete: EventEmitter<__esri.Polygon | __esri.Polygon[]>;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Functions (lifecycle)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * StencilJS: Called once just after the component is first connected to the DOM.\r\n   *\r\n   * @returns Promise when complete\r\n   */\r\n  async componentWillLoad(): Promise<void> {\r\n    await this._getTranslations();\r\n    await this._initModules();\r\n  }\r\n\r\n  /**\r\n   * Renders the component.\r\n   */\r\n  render(): VNode {\r\n    return (\r\n      <Host>\r\n        {this.appearance === \"text\" ? this._getTextBoxDisplay() : this._getSliderDisplay()}\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Functions (protected)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Load esri javascript api modules\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   *\r\n   * @protected\r\n   */\r\n  protected async _initModules(): Promise<void> {\r\n    const [geometryEngine]: [\r\n      __esri.geometryEngine\r\n    ] = await loadModules([\r\n      \"esri/geometry/geometryEngine\"\r\n    ]);\r\n    this._geometryEngine = geometryEngine;\r\n  }\r\n\r\n  /**\r\n   * Gets the nodes for each of the possible distance units\r\n   *\r\n   * @returns An array of option nodes\r\n   *\r\n   * @protected\r\n   */\r\n  protected _getUnits(): VNode[] {\r\n    const units = {\r\n      \"feet\": this._translations.feet,\r\n      \"meters\": this._translations.meters,\r\n      \"miles\": this._translations.miles,\r\n      \"kilometers\": this._translations.kilometers\r\n    };\r\n    return Object.keys(units).map(u => {\r\n      return (<calcite-option label={units[u]} selected={this.unit === u} value={u} />);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Store the user defined distance value and create a buffer\r\n   *\r\n   * @param event the event from the calcite input control\r\n   *\r\n   * @protected\r\n   */\r\n  protected _setDistance(\r\n    event: CustomEvent\r\n  ): void {\r\n    this.distance = event.detail.value;\r\n    if (this.distance > 0) {\r\n      this._buffer();\r\n    } else {\r\n      this.bufferComplete.emit(undefined);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Store the user defined unit value and create a buffer\r\n   *\r\n   * @protected\r\n   */\r\n  protected _setUnit(\r\n    unit: DistanceUnit\r\n  ): void {\r\n    this.unit = unit;\r\n    this._buffer();\r\n  }\r\n\r\n  /**\r\n   * Create buffer geometry based on the user defined unit and distance\r\n   *\r\n   * @protected\r\n   */\r\n  protected _buffer(): void {\r\n    if (this._bufferTimeout) {\r\n      clearTimeout(this._bufferTimeout);\r\n    }\r\n\r\n    this._bufferTimeout = setTimeout(() => {\r\n      // needs to be wgs 84 or Web Mercator\r\n      if (this.geometries?.length > 0 && this.unit && this.distance > 0) {\r\n        const buffer = this._geometryEngine.geodesicBuffer(\r\n          this.geometries,\r\n          this.distance,\r\n          this.unit,\r\n          this.unionResults\r\n        );\r\n        this.bufferComplete.emit(buffer);\r\n      }\r\n    }, 400);\r\n  }\r\n\r\n  /**\r\n   * Render distance and unit as calcite input and select controls\r\n   * This option will be used when the \"appearance\" prop is set to \"text\"\r\n   *\r\n   * @returns a node with the supporting controls\r\n   *\r\n   * @protected\r\n   */\r\n  protected _getTextBoxDisplay(): VNode {\r\n    return (\r\n      <div class=\"c-container\">\r\n        <calcite-input\r\n          class=\"padding-end-1\"\r\n          number-button-type=\"vertical\"\r\n          onCalciteInputInput={(evt) => this._setDistance(evt)}\r\n          placeholder=\"0\"\r\n          type=\"number\"\r\n          value={this.distance ? this.distance.toString() : undefined}\r\n        />\r\n        <calcite-select\r\n          class=\"flex-1\"\r\n          label=\"label\"\r\n          onCalciteSelectChange={() => this._setUnit(this._unitElement.value as DistanceUnit)}\r\n          ref={(el) => { this._unitElement = el }}\r\n        >\r\n          {this._getUnits()}\r\n        </calcite-select>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Render distance control as a slider\r\n   * This option will be used when the \"appearance\" prop is set to \"slider\"\r\n   *\r\n   * @returns a node with the supporting control\r\n   *\r\n   * @protected\r\n   */\r\n  protected _getSliderDisplay(): VNode {\r\n    return (\r\n      <div>\r\n        <calcite-slider\r\n          labelHandles={true}\r\n          max={this.sliderMax}\r\n          min={this.sliderMin}\r\n          ticks={this.sliderTicks}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Fetches the component's translations\r\n   *\r\n   * @returns Promise when complete\r\n   * @protected\r\n   */\r\n  protected async _getTranslations(): Promise<void> {\r\n    const messages = await getLocaleComponentStrings(this.el);\r\n    this._translations = messages[0] as typeof BufferTools_T9n;\r\n  }\r\n\r\n  /** Provides access to protected methods for unit testing.\r\n  *\r\n  *  @param methodName Name of protected method to run\r\n  *  @param arg1 First argument to forward to method, e.g., for \"_setDistance\", `CustomEvent`\r\n  *  @returns\r\n  */\r\n  public _testAccess(\r\n    methodName: string,\r\n    arg1?: any\r\n  ): any {\r\n    switch (methodName) {\r\n      case \"_setUnit\":\r\n        return this._setUnit(arg1);\r\n      case \"_setDistance\":\r\n        return this._setDistance(arg1);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","/* mixins & extensions */\n@keyframes in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes in-down {\n  0% {\n    opacity: 0;\n    transform: translate3D(0, -5px, 0);\n  }\n  100% {\n    opacity: 1;\n    transform: translate3D(0, 0, 0);\n  }\n}\n@keyframes in-up {\n  0% {\n    opacity: 0;\n    transform: translate3D(0, 5px, 0);\n  }\n  100% {\n    opacity: 1;\n    transform: translate3D(0, 0, 0);\n  }\n}\n@keyframes in-scale {\n  0% {\n    opacity: 0;\n    transform: scale3D(0.95, 0.95, 1);\n  }\n  100% {\n    opacity: 1;\n    transform: scale3D(1, 1, 1);\n  }\n}\n:root {\n  --calcite-animation-timing: calc(150ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-duration-factor: var(--calcite-duration-factor, 1);\n  --calcite-internal-animation-timing-fast: calc(100ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-animation-timing-medium: calc(200ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-animation-timing-slow: calc(300ms * var(--calcite-internal-duration-factor));\n}\n\n.calcite-animate {\n  opacity: 0;\n  animation-fill-mode: both;\n  animation-duration: var(--calcite-animation-timing);\n}\n\n.calcite-animate__in {\n  animation-name: in;\n}\n\n.calcite-animate__in-down {\n  animation-name: in-down;\n}\n\n.calcite-animate__in-up {\n  animation-name: in-up;\n}\n\n.calcite-animate__in-scale {\n  animation-name: in-scale;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  :root {\n    --calcite-internal-duration-factor: 0.01;\n  }\n}\n/**\n* Currently only used in Checkbox.\n*/\n:root {\n  --calcite-floating-ui-transition: var(--calcite-animation-timing);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([disabled]) {\n  pointer-events: none;\n  cursor: default;\n  -webkit-user-select: none;\n          user-select: none;\n  opacity: var(--calcite-ui-opacity-disabled);\n}\n\n:host {\n  display: flex;\n  background-color: var(--calcite-ui-foreground-1);\n  inline-size: -moz-fit-content;\n  inline-size: fit-content;\n  outline: 1px solid var(--calcite-ui-border-input);\n  outline-offset: -1px;\n}\n\n:host([disabled]) ::slotted([calcite-hydrated][disabled]),\n:host([disabled]) [calcite-hydrated][disabled] {\n  /* prevent opacity stacking */\n  opacity: 1;\n}\n\n:host([layout=vertical]) {\n  flex-direction: column;\n  align-items: flex-start;\n  align-self: flex-start;\n}\n\n:host([width=full]) {\n  inline-size: 100%;\n  min-inline-size: -moz-fit-content;\n  min-inline-size: fit-content;\n}\n:host([width=full]) ::slotted(calcite-radio-group-item) {\n  flex: 1 1 auto;\n}\n\n:host([width=full][layout=vertical]) ::slotted(calcite-radio-group-item) {\n  justify-content: flex-start;\n}\n\n::slotted(input[slot=hidden-form-input]) {\n  margin: 0 !important;\n  opacity: 0 !important;\n  outline: none !important;\n  padding: 0 !important;\n  position: absolute !important;\n  inset: 0 !important;\n  transform: none !important;\n  -webkit-appearance: none !important;\n  z-index: -1 !important;\n}","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.97\n */\nimport { Build, h, Host } from \"@stencil/core\";\nimport { getElementDir } from \"../../utils/dom\";\nimport { connectLabel, disconnectLabel } from \"../../utils/label\";\nimport { afterConnectDefaultValueSet, connectForm, disconnectForm, HiddenFormInputSlot } from \"../../utils/form\";\nimport { updateHostInteraction } from \"../../utils/interactive\";\n/**\n * @slot - A slot for adding `calcite-radio-group-item`s.\n */\nexport class RadioGroup {\n  constructor() {\n    //--------------------------------------------------------------------------\n    //\n    //  Properties\n    //\n    //--------------------------------------------------------------------------\n    /** Specifies the appearance style of the component. */\n    this.appearance = \"solid\";\n    /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n    this.disabled = false;\n    /**\n     * When `true`, the component must have a value in order for the form to submit.\n     *\n     * @internal\n     */\n    this.required = false;\n    /** Defines the layout of the component. */\n    this.layout = \"horizontal\";\n    /** Specifies the size of the component. */\n    this.scale = \"m\";\n    /** The component's `selectedItem` value. */\n    this.value = null;\n    /** Specifies the width of the component. */\n    this.width = \"auto\";\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    this.handleClick = (event) => {\n      if (event.target.localName === \"calcite-radio-group-item\") {\n        this.selectItem(event.target, true);\n      }\n    };\n  }\n  valueHandler(value) {\n    const items = this.getItems();\n    items.forEach((item) => (item.checked = item.value === value));\n  }\n  handleSelectedItemChange(newItem, oldItem) {\n    this.value = newItem === null || newItem === void 0 ? void 0 : newItem.value;\n    if (newItem === oldItem) {\n      return;\n    }\n    const items = this.getItems();\n    const match = Array.from(items)\n      .filter((item) => item === newItem)\n      .pop();\n    if (match) {\n      this.selectItem(match);\n    }\n    else if (items[0]) {\n      items[0].tabIndex = 0;\n    }\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n  componentWillLoad() {\n    const items = this.getItems();\n    const lastChecked = Array.from(items)\n      .filter((item) => item.checked)\n      .pop();\n    if (lastChecked) {\n      this.selectItem(lastChecked);\n    }\n    else if (items[0]) {\n      items[0].tabIndex = 0;\n    }\n  }\n  componentDidLoad() {\n    afterConnectDefaultValueSet(this, this.value);\n  }\n  connectedCallback() {\n    connectLabel(this);\n    connectForm(this);\n  }\n  disconnectedCallback() {\n    disconnectLabel(this);\n    disconnectForm(this);\n  }\n  componentDidRender() {\n    updateHostInteraction(this);\n  }\n  render() {\n    return (h(Host, { onClick: this.handleClick, role: \"radiogroup\" }, h(\"slot\", null), h(HiddenFormInputSlot, { component: this })));\n  }\n  handleSelected(event) {\n    event.preventDefault();\n    this.selectItem(event.target);\n    event.stopPropagation();\n  }\n  handleKeyDown(event) {\n    const keys = [\"ArrowLeft\", \"ArrowUp\", \"ArrowRight\", \"ArrowDown\", \" \"];\n    const { key } = event;\n    const { el, selectedItem } = this;\n    if (keys.indexOf(key) === -1) {\n      return;\n    }\n    let adjustedKey = key;\n    if (getElementDir(el) === \"rtl\") {\n      if (key === \"ArrowRight\") {\n        adjustedKey = \"ArrowLeft\";\n      }\n      if (key === \"ArrowLeft\") {\n        adjustedKey = \"ArrowRight\";\n      }\n    }\n    const items = this.getItems();\n    let selectedIndex = -1;\n    items.forEach((item, index) => {\n      if (item === selectedItem) {\n        selectedIndex = index;\n      }\n    });\n    switch (adjustedKey) {\n      case \"ArrowLeft\":\n      case \"ArrowUp\":\n        event.preventDefault();\n        const previous = selectedIndex < 1 ? items.item(items.length - 1) : items.item(selectedIndex - 1);\n        this.selectItem(previous, true);\n        return;\n      case \"ArrowRight\":\n      case \"ArrowDown\":\n        event.preventDefault();\n        const next = selectedIndex === -1 ? items.item(1) : items.item(selectedIndex + 1) || items.item(0);\n        this.selectItem(next, true);\n        return;\n      case \" \":\n        event.preventDefault();\n        this.selectItem(event.target, true);\n        return;\n      default:\n        return;\n    }\n  }\n  // --------------------------------------------------------------------------\n  //\n  //  Methods\n  //\n  // --------------------------------------------------------------------------\n  /** Sets focus on the component. */\n  async setFocus() {\n    var _a;\n    (_a = (this.selectedItem || this.getItems()[0])) === null || _a === void 0 ? void 0 : _a.focus();\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n  onLabelClick() {\n    this.setFocus();\n  }\n  getItems() {\n    return this.el.querySelectorAll(\"calcite-radio-group-item\");\n  }\n  selectItem(selected, emit = false) {\n    if (selected === this.selectedItem) {\n      return;\n    }\n    const items = this.getItems();\n    let match = null;\n    items.forEach((item) => {\n      const matches = item.value === selected.value;\n      if ((matches && !item.checked) || (!matches && item.checked)) {\n        item.checked = matches;\n      }\n      item.tabIndex = matches ? 0 : -1;\n      if (matches) {\n        match = item;\n        if (emit) {\n          this.calciteRadioGroupChange.emit(match.value);\n        }\n      }\n    });\n    this.selectedItem = match;\n    if (Build.isBrowser && match) {\n      match.focus();\n    }\n  }\n  static get is() { return \"calcite-radio-group\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"radio-group.scss\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"radio-group.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"appearance\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"RadioAppearance\",\n          \"resolved\": \"\\\"outline\\\" | \\\"solid\\\"\",\n          \"references\": {\n            \"RadioAppearance\": {\n              \"location\": \"import\",\n              \"path\": \"./interfaces\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the appearance style of the component.\"\n        },\n        \"attribute\": \"appearance\",\n        \"reflect\": true,\n        \"defaultValue\": \"\\\"solid\\\"\"\n      },\n      \"disabled\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, interaction is prevented and the component is displayed with lower opacity.\"\n        },\n        \"attribute\": \"disabled\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"required\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }],\n          \"text\": \"When `true`, the component must have a value in order for the form to submit.\"\n        },\n        \"attribute\": \"required\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"layout\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"Layout\",\n          \"resolved\": \"\\\"grid\\\" | \\\"horizontal\\\" | \\\"vertical\\\"\",\n          \"references\": {\n            \"Layout\": {\n              \"location\": \"import\",\n              \"path\": \"../interfaces\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Defines the layout of the component.\"\n        },\n        \"attribute\": \"layout\",\n        \"reflect\": true,\n        \"defaultValue\": \"\\\"horizontal\\\"\"\n      },\n      \"name\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the name of the component on form submission.\"\n        },\n        \"attribute\": \"name\",\n        \"reflect\": true\n      },\n      \"scale\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"Scale\",\n          \"resolved\": \"\\\"l\\\" | \\\"m\\\" | \\\"s\\\"\",\n          \"references\": {\n            \"Scale\": {\n              \"location\": \"import\",\n              \"path\": \"../interfaces\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the size of the component.\"\n        },\n        \"attribute\": \"scale\",\n        \"reflect\": true,\n        \"defaultValue\": \"\\\"m\\\"\"\n      },\n      \"value\": {\n        \"type\": \"string\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The component's `selectedItem` value.\"\n        },\n        \"attribute\": \"value\",\n        \"reflect\": false,\n        \"defaultValue\": \"null\"\n      },\n      \"selectedItem\": {\n        \"type\": \"unknown\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"HTMLCalciteRadioGroupItemElement\",\n          \"resolved\": \"HTMLCalciteRadioGroupItemElement\",\n          \"references\": {\n            \"HTMLCalciteRadioGroupItemElement\": {\n              \"location\": \"global\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"readonly\",\n              \"text\": undefined\n            }],\n          \"text\": \"The component's selected item `HTMLElement`.\"\n        }\n      },\n      \"width\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"Extract<\\\"auto\\\" | \\\"full\\\", Width>\",\n          \"resolved\": \"\\\"auto\\\" | \\\"full\\\"\",\n          \"references\": {\n            \"Extract\": {\n              \"location\": \"global\"\n            },\n            \"Width\": {\n              \"location\": \"import\",\n              \"path\": \"../interfaces\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the width of the component.\"\n        },\n        \"attribute\": \"width\",\n        \"reflect\": true,\n        \"defaultValue\": \"\\\"auto\\\"\"\n      }\n    };\n  }\n  static get events() {\n    return [{\n        \"method\": \"calciteRadioGroupChange\",\n        \"name\": \"calciteRadioGroupChange\",\n        \"bubbles\": true,\n        \"cancelable\": false,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Fires when the selected option changes, where the event detail is the new value.\"\n        },\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        }\n      }];\n  }\n  static get methods() {\n    return {\n      \"setFocus\": {\n        \"complexType\": {\n          \"signature\": \"() => Promise<void>\",\n          \"parameters\": [],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<void>\"\n        },\n        \"docs\": {\n          \"text\": \"Sets focus on the component.\",\n          \"tags\": []\n        }\n      }\n    };\n  }\n  static get elementRef() { return \"el\"; }\n  static get watchers() {\n    return [{\n        \"propName\": \"value\",\n        \"methodName\": \"valueHandler\"\n      }, {\n        \"propName\": \"selectedItem\",\n        \"methodName\": \"handleSelectedItemChange\"\n      }];\n  }\n  static get listeners() {\n    return [{\n        \"name\": \"calciteInternalRadioGroupItemChange\",\n        \"method\": \"handleSelected\",\n        \"target\": undefined,\n        \"capture\": false,\n        \"passive\": false\n      }, {\n        \"name\": \"keydown\",\n        \"method\": \"handleKeyDown\",\n        \"target\": undefined,\n        \"capture\": false,\n        \"passive\": false\n      }];\n  }\n}\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.97\n */\nexport const SLOTS = {\n  input: \"input\"\n};\nexport const CSS = {\n  radioGroupItemIcon: \"radio-group-item-icon\"\n};\n","/* mixins & extensions */\n@keyframes in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes in-down {\n  0% {\n    opacity: 0;\n    transform: translate3D(0, -5px, 0);\n  }\n  100% {\n    opacity: 1;\n    transform: translate3D(0, 0, 0);\n  }\n}\n@keyframes in-up {\n  0% {\n    opacity: 0;\n    transform: translate3D(0, 5px, 0);\n  }\n  100% {\n    opacity: 1;\n    transform: translate3D(0, 0, 0);\n  }\n}\n@keyframes in-scale {\n  0% {\n    opacity: 0;\n    transform: scale3D(0.95, 0.95, 1);\n  }\n  100% {\n    opacity: 1;\n    transform: scale3D(1, 1, 1);\n  }\n}\n:root {\n  --calcite-animation-timing: calc(150ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-duration-factor: var(--calcite-duration-factor, 1);\n  --calcite-internal-animation-timing-fast: calc(100ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-animation-timing-medium: calc(200ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-animation-timing-slow: calc(300ms * var(--calcite-internal-duration-factor));\n}\n\n.calcite-animate {\n  opacity: 0;\n  animation-fill-mode: both;\n  animation-duration: var(--calcite-animation-timing);\n}\n\n.calcite-animate__in {\n  animation-name: in;\n}\n\n.calcite-animate__in-down {\n  animation-name: in-down;\n}\n\n.calcite-animate__in-up {\n  animation-name: in-up;\n}\n\n.calcite-animate__in-scale {\n  animation-name: in-scale;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  :root {\n    --calcite-internal-duration-factor: 0.01;\n  }\n}\n/**\n* Currently only used in Checkbox.\n*/\n:root {\n  --calcite-floating-ui-transition: var(--calcite-animation-timing);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host {\n  display: flex;\n  cursor: pointer;\n  align-self: stretch;\n  font-weight: var(--calcite-font-weight-normal);\n  transition: background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-animation-timing) ease-in-out;\n}\n\n:host label {\n  pointer-events: none;\n  margin: 0.125rem;\n  box-sizing: border-box;\n  display: flex;\n  flex: 1 1 0%;\n  align-items: center;\n  color: var(--calcite-ui-text-3);\n  transition: background-color var(--calcite-internal-animation-timing-fast) ease-in-out, border-color var(--calcite-internal-animation-timing-fast) ease-in-out, color var(--calcite-internal-animation-timing-fast) ease-in-out;\n}\n\n.label--horizontal {\n  justify-content: center;\n}\n\n:host {\n  outline-color: transparent;\n}\n\n:host(:focus) {\n  outline: 2px solid var(--calcite-ui-brand);\n  outline-offset: -1px;\n}\n\n.label--scale-s {\n  padding-inline: 0.5rem;\n  font-size: var(--calcite-font-size--2);\n  line-height: 1rem;\n  padding-block: 0.125rem;\n}\n\n.label--scale-m {\n  padding-inline: 0.75rem;\n  font-size: var(--calcite-font-size--1);\n  line-height: 1rem;\n  padding-block: 0.375rem;\n}\n\n.label--scale-l {\n  padding-inline: 1rem;\n  padding-block: 0.625rem;\n  font-size: var(--calcite-font-size-0);\n  line-height: 1.25rem;\n}\n\n:host(:hover) label {\n  background-color: var(--calcite-ui-foreground-2);\n  color: var(--calcite-ui-text-1);\n}\n\n:host(:active) label {\n  background-color: var(--calcite-ui-foreground-3);\n}\n\n:host([checked]) label {\n  cursor: default;\n  border-color: var(--calcite-ui-brand);\n  background-color: var(--calcite-ui-brand);\n  color: var(--calcite-ui-background);\n}\n\n:host([checked]) .label--outline {\n  border-color: var(--calcite-ui-brand);\n  background-color: var(--calcite-ui-foreground-1);\n  box-shadow: inset 0 0 0 1px var(--calcite-ui-brand);\n  color: var(--calcite-ui-brand);\n}\n\n::slotted(input) {\n  display: none;\n}\n\n@media (forced-colors: active) {\n  :host([checked]) label {\n    background-color: highlight;\n  }\n\n  :host([checked]) .label--outline {\n    outline: 2px solid transparent;\n    outline-offset: 2px;\n  }\n\n  :host([checked]) label:not([class~=label--outline]) .radio-group-item-icon {\n    color: highlightText;\n  }\n}\n.radio-group-item-icon {\n  position: relative;\n  margin: 0px;\n  display: inline-flex;\n  line-height: inherit;\n}\n\n:host([icon-position=start]) .label--scale-s .radio-group-item-icon {\n  margin-inline-end: 0.5rem;\n}\n\n:host([icon-position=end]) .label--scale-s .radio-group-item-icon {\n  margin-inline-end: unset;\n  margin-inline-start: 0.5rem;\n}\n\n:host([icon-position=start]) .label--scale-m .radio-group-item-icon {\n  margin-inline-end: 0.75rem;\n}\n\n:host([icon-position=end]) .label--scale-m .radio-group-item-icon {\n  margin-inline-end: unset;\n  margin-inline-start: 0.75rem;\n}\n\n:host([icon-position=start]) .label--scale-l .radio-group-item-icon {\n  margin-inline-end: 1rem;\n}\n\n:host([icon-position=end]) .label--scale-l .radio-group-item-icon {\n  margin-inline-end: unset;\n  margin-inline-start: 1rem;\n}\n\n:host([icon-start]) .label--scale-s .radio-group-item-icon {\n  margin-inline-end: 0.5rem;\n}\n\n:host([icon-end]) .label--scale-s .radio-group-item-icon {\n  margin-inline-start: 0.5rem;\n}\n\n:host([icon-start]) .label--scale-m .radio-group-item-icon {\n  margin-inline-end: 0.75rem;\n}\n\n:host([icon-end]) .label--scale-m .radio-group-item-icon {\n  margin-inline-start: 0.75rem;\n}\n\n:host([icon-start]) .label--scale-l .radio-group-item-icon {\n  margin-inline-end: 1rem;\n}\n\n:host([icon-end]) .label--scale-l .radio-group-item-icon {\n  margin-inline-start: 1rem;\n}","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.97\n */\nimport { h, Host } from \"@stencil/core\";\nimport { getElementProp, toAriaBoolean } from \"../../utils/dom\";\nimport { SLOTS, CSS } from \"./resources\";\nexport class RadioGroupItem {\n  constructor() {\n    //--------------------------------------------------------------------------\n    //\n    //  Properties\n    //\n    //--------------------------------------------------------------------------\n    /** When `true`, the component is checked. */\n    this.checked = false;\n    /** When `true`, the icon will be flipped when the element direction is right-to-left (`\"rtl\"`). */\n    this.iconFlipRtl = false;\n    /**\n     * Specifies the placement of the icon.\n     *\n     * @deprecated Use either `iconStart` or `iconEnd` but do not combine them with `icon` and `iconPosition`.\n     */\n    this.iconPosition = \"start\";\n  }\n  handleCheckedChange() {\n    this.calciteInternalRadioGroupItemChange.emit();\n  }\n  render() {\n    const { checked, value } = this;\n    const scale = getElementProp(this.el, \"scale\", \"m\");\n    const appearance = getElementProp(this.el, \"appearance\", \"solid\");\n    const layout = getElementProp(this.el, \"layout\", \"horizontal\");\n    const iconStartEl = this.iconStart ? (h(\"calcite-icon\", { class: CSS.radioGroupItemIcon, flipRtl: this.iconFlipRtl, icon: this.iconStart, key: \"icon-start\", scale: \"s\" })) : null;\n    const iconEndEl = this.iconEnd ? (h(\"calcite-icon\", { class: CSS.radioGroupItemIcon, flipRtl: this.iconFlipRtl, icon: this.iconEnd, key: \"icon-end\", scale: \"s\" })) : null;\n    const iconEl = (h(\"calcite-icon\", { class: CSS.radioGroupItemIcon, flipRtl: this.iconFlipRtl, icon: this.icon, key: \"icon\", scale: \"s\" }));\n    const iconAtStart = this.icon && this.iconPosition === \"start\" && !this.iconStart ? iconEl : null;\n    const iconAtEnd = this.icon && this.iconPosition === \"end\" && !this.iconEnd ? iconEl : null;\n    return (h(Host, { \"aria-checked\": toAriaBoolean(checked), \"aria-label\": value, role: \"radio\" }, h(\"label\", { class: {\n        \"label--scale-s\": scale === \"s\",\n        \"label--scale-m\": scale === \"m\",\n        \"label--scale-l\": scale === \"l\",\n        \"label--horizontal\": layout === \"horizontal\",\n        \"label--outline\": appearance === \"outline\"\n      } }, iconAtStart, this.iconStart ? iconStartEl : null, h(\"slot\", null, value), h(\"slot\", { name: SLOTS.input }), iconAtEnd, this.iconEnd ? iconEndEl : null)));\n  }\n  static get is() { return \"calcite-radio-group-item\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"radio-group-item.scss\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"radio-group-item.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"checked\": {\n        \"type\": \"boolean\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, the component is checked.\"\n        },\n        \"attribute\": \"checked\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"icon\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"deprecated\",\n              \"text\": \"Use either `iconStart` or `iconEnd` but do not combine them with `icon` and `iconPosition`.\"\n            }],\n          \"text\": \"Specifies an icon to display.\"\n        },\n        \"attribute\": \"icon\",\n        \"reflect\": true\n      },\n      \"iconFlipRtl\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, the icon will be flipped when the element direction is right-to-left (`\\\"rtl\\\"`).\"\n        },\n        \"attribute\": \"icon-flip-rtl\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"iconPosition\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"Position\",\n          \"resolved\": \"\\\"end\\\" | \\\"start\\\"\",\n          \"references\": {\n            \"Position\": {\n              \"location\": \"import\",\n              \"path\": \"../interfaces\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"deprecated\",\n              \"text\": \"Use either `iconStart` or `iconEnd` but do not combine them with `icon` and `iconPosition`.\"\n            }],\n          \"text\": \"Specifies the placement of the icon.\"\n        },\n        \"attribute\": \"icon-position\",\n        \"reflect\": true,\n        \"defaultValue\": \"\\\"start\\\"\"\n      },\n      \"iconStart\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies an icon to display at the start of the component.\"\n        },\n        \"attribute\": \"icon-start\",\n        \"reflect\": true\n      },\n      \"iconEnd\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies an icon to display at the end of the component.\"\n        },\n        \"attribute\": \"icon-end\",\n        \"reflect\": true\n      },\n      \"value\": {\n        \"type\": \"any\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"any | null\",\n          \"resolved\": \"any\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The component's value.\"\n        },\n        \"attribute\": \"value\",\n        \"reflect\": false\n      }\n    };\n  }\n  static get events() {\n    return [{\n        \"method\": \"calciteInternalRadioGroupItemChange\",\n        \"name\": \"calciteInternalRadioGroupItemChange\",\n        \"bubbles\": true,\n        \"cancelable\": false,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"internal\",\n              \"text\": undefined\n            }],\n          \"text\": \"Fires when the item has been selected.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }];\n  }\n  static get elementRef() { return \"el\"; }\n  static get watchers() {\n    return [{\n        \"propName\": \"checked\",\n        \"methodName\": \"handleCheckedChange\"\n      }];\n  }\n}\n","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.97\n */\nexport const CSS = {\n  handleLabel: \"handle__label\",\n  handleLabelMinValue: \"handle__label--minValue\",\n  handleLabelValue: \"handle__label--value\",\n  tickMin: \"tick__label--min\",\n  tickMax: \"tick__label--max\"\n};\n","@charset \"UTF-8\";\n/* mixins & extensions */\n@keyframes in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes in-down {\n  0% {\n    opacity: 0;\n    transform: translate3D(0, -5px, 0);\n  }\n  100% {\n    opacity: 1;\n    transform: translate3D(0, 0, 0);\n  }\n}\n@keyframes in-up {\n  0% {\n    opacity: 0;\n    transform: translate3D(0, 5px, 0);\n  }\n  100% {\n    opacity: 1;\n    transform: translate3D(0, 0, 0);\n  }\n}\n@keyframes in-scale {\n  0% {\n    opacity: 0;\n    transform: scale3D(0.95, 0.95, 1);\n  }\n  100% {\n    opacity: 1;\n    transform: scale3D(1, 1, 1);\n  }\n}\n:root {\n  --calcite-animation-timing: calc(150ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-duration-factor: var(--calcite-duration-factor, 1);\n  --calcite-internal-animation-timing-fast: calc(100ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-animation-timing-medium: calc(200ms * var(--calcite-internal-duration-factor));\n  --calcite-internal-animation-timing-slow: calc(300ms * var(--calcite-internal-duration-factor));\n}\n\n.calcite-animate {\n  opacity: 0;\n  animation-fill-mode: both;\n  animation-duration: var(--calcite-animation-timing);\n}\n\n.calcite-animate__in {\n  animation-name: in;\n}\n\n.calcite-animate__in-down {\n  animation-name: in-down;\n}\n\n.calcite-animate__in-up {\n  animation-name: in-up;\n}\n\n.calcite-animate__in-scale {\n  animation-name: in-scale;\n}\n\n@media (prefers-reduced-motion: reduce) {\n  :root {\n    --calcite-internal-duration-factor: 0.01;\n  }\n}\n/**\n* Currently only used in Checkbox.\n*/\n:root {\n  --calcite-floating-ui-transition: var(--calcite-animation-timing);\n}\n\n:host([hidden]) {\n  display: none;\n}\n\n:host([disabled]){\n  pointer-events: none;\n  cursor: default;\n  -webkit-user-select: none;\n          user-select: none;\n  opacity: var(--calcite-ui-opacity-disabled);\n}\n\n.scale--s {\n  --calcite-slider-handle-size: 10px;\n  --calcite-slider-handle-extension-height: 6.5px;\n  --calcite-slider-container-font-size: var(--calcite-font-size--3);\n}\n.scale--s .handle__label, \n.scale--s .tick__label{\n  line-height: .75rem;\n}\n\n.scale--m {\n  --calcite-slider-handle-size: 14px;\n  --calcite-slider-handle-extension-height: 8px;\n  --calcite-slider-container-font-size: var(--calcite-font-size--2);\n}\n.scale--m .handle__label, \n.scale--m .tick__label{\n  line-height: 1rem;\n}\n\n.scale--l {\n  --calcite-slider-handle-size: 16px;\n  --calcite-slider-handle-extension-height: 10.5px;\n  --calcite-slider-container-font-size: var(--calcite-font-size--1);\n}\n.scale--l .handle__label, \n.scale--l .tick__label{\n  line-height: 1rem;\n}\n\n.handle__label, \n.tick__label{\n  font-weight: var(--calcite-font-weight-medium);\n  color: var(--calcite-ui-text-2);\n  font-size: var(--calcite-slider-container-font-size);\n}\n\n:host{\n  display: block;\n}\n\n.container{\n  position: relative;\n  display: block;\n  overflow-wrap: normal;\n  word-break: normal;\n  padding-inline: calc(var(--calcite-slider-handle-size) * 0.5);\n  padding-block: calc(var(--calcite-slider-handle-size) * 0.5);\n  margin-block: calc(var(--calcite-slider-handle-size) * 0.5);\n  margin-inline: 0;\n  --calcite-slider-full-handle-height: calc(\n    var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height)\n  );\n}\n\n:host([disabled]) .track__range,\n:host([disabled]) .tick--active {\n  background-color: var(--calcite-ui-text-3);\n}\n:host([disabled]) ::slotted([calcite-hydrated][disabled]),\n:host([disabled]) [calcite-hydrated][disabled] {\n  /* prevent opacity stacking */\n  opacity: 1;\n}\n\n.scale--s .thumb:not(.thumb--precise) {\n  --calcite-slider-thumb-y-offset: -6px;\n}\n\n.scale--m .thumb:not(.thumb--precise) {\n  --calcite-slider-thumb-y-offset: -8px;\n}\n\n.scale--l .thumb:not(.thumb--precise) {\n  --calcite-slider-thumb-y-offset: -9px;\n}\n\n:host([precise]:not([has-histogram])) .container .thumb--value {\n  --calcite-slider-thumb-y-offset: calc(var(--calcite-slider-full-handle-height) * -1);\n}\n\n.thumb-container{\n  position: relative;\n  max-inline-size: 100%;\n}\n\n.thumb {\n  --calcite-slider-thumb-x-offset: calc(var(--calcite-slider-handle-size) * 0.5);\n  position: absolute;\n  margin: 0px;\n  display: flex;\n  cursor: pointer;\n  flex-direction: column;\n  align-items: center;\n  border-style: none;\n  background-color: transparent;\n  padding: 0px;\n  font-family: inherit;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  transform: translate(var(--calcite-slider-thumb-x-offset), var(--calcite-slider-thumb-y-offset));\n}\n.thumb .handle__label.static,  .thumb .handle__label.transformed{\n  position: absolute;\n  inset-block: 0px;\n  opacity: 0;\n}\n.thumb .handle__label.hyphen::after {\n  content: \"\";\n  display: inline-block;\n  inline-size: 1em;\n}\n.thumb .handle__label.hyphen--wrap {\n  display: flex;\n}\n.thumb .handle{\n  box-sizing: border-box;\n  border-radius: 9999px;\n  background-color: var(--calcite-ui-foreground-1);\n  outline-color: transparent;\n  block-size: var(--calcite-slider-handle-size);\n  inline-size: var(--calcite-slider-handle-size);\n  box-shadow: 0 0 0 2px var(--calcite-ui-text-3) inset;\n  transition: border var(--calcite-internal-animation-timing-medium) ease, background-color var(--calcite-internal-animation-timing-medium) ease, box-shadow var(--calcite-animation-timing) ease;\n}\n.thumb .handle-extension{\n  inline-size: 0.125rem;\n  block-size: var(--calcite-slider-handle-extension-height);\n  background-color: var(--calcite-ui-text-3);\n}\n.thumb:hover .handle {\n  box-shadow: 0 0 0 3px var(--calcite-ui-brand) inset;\n}\n.thumb:hover .handle-extension{\n  background-color: var(--calcite-ui-brand);\n}\n.thumb:focus .handle{\n  outline: 2px solid var(--calcite-ui-brand);\n  outline-offset: 2px;\n}\n.thumb:focus .handle-extension{\n  background-color: var(--calcite-ui-brand);\n}\n.thumb.thumb--minValue {\n  transform: translate(calc(var(--calcite-slider-thumb-x-offset) * -1), var(--calcite-slider-thumb-y-offset));\n}\n.thumb.thumb--precise {\n  --calcite-slider-thumb-y-offset: -2px;\n}\n\n:host([label-handles]) .thumb {\n  --calcite-slider-thumb-x-offset: 50%;\n}\n:host([label-handles]):host(:not([has-histogram])) .scale--s .thumb:not(.thumb--precise) {\n  --calcite-slider-thumb-y-offset: -23px;\n}\n:host([label-handles]):host(:not([has-histogram])) .scale--m .thumb:not(.thumb--precise) {\n  --calcite-slider-thumb-y-offset: -30px;\n}\n:host([label-handles]):host(:not([has-histogram])) .scale--l .thumb:not(.thumb--precise) {\n  --calcite-slider-thumb-y-offset: -32px;\n}\n\n:host([has-histogram][label-handles]) .handle__label,\n:host([label-handles]:not([has-histogram])) .thumb--minValue.thumb--precise .handle__label {\n  margin-block-start: 0.5em;\n}\n\n:host(:not([has-histogram]):not([precise])) .handle__label,\n:host([label-handles]:not([has-histogram])) .thumb--value .handle__label {\n  margin-block-end: 0.5em;\n}\n\n:host([label-handles][precise]):host(:not([has-histogram])) .scale--s .thumb--value {\n  --calcite-slider-thumb-y-offset: -33px;\n}\n:host([label-handles][precise]):host(:not([has-histogram])) .scale--m .thumb--value {\n  --calcite-slider-thumb-y-offset: -44px;\n}\n:host([label-handles][precise]):host(:not([has-histogram])) .scale--l .thumb--value {\n  --calcite-slider-thumb-y-offset: -49px;\n}\n\n.thumb:focus .handle, \n.thumb--active .handle{\n  background-color: var(--calcite-ui-brand);\n  box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.16);\n}\n\n.thumb:hover.thumb--precise:after, \n.thumb:focus.thumb--precise:after, \n.thumb--active.thumb--precise:after{\n  background-color: var(--calcite-ui-brand);\n}\n\n.track{\n  position: relative;\n  block-size: 0.125rem;\n  border-radius: 0px;\n  background-color: var(--calcite-ui-border-2);\n  transition: all var(--calcite-internal-animation-timing-medium) ease-in;\n}\n\n.track__range{\n  position: absolute;\n  inset-block-start: 0px;\n  block-size: 0.125rem;\n  background-color: var(--calcite-ui-brand);\n}\n\n.container--range .track__range:hover {\n  cursor: ew-resize;\n}\n.container--range .track__range:after{\n  position: absolute;\n  inline-size: 100%;\n  content: \"\";\n  inset-block-start: calc(var(--calcite-slider-full-handle-height) * 0.5 * -1);\n  block-size: calc(var(--calcite-slider-handle-size) + var(--calcite-slider-handle-extension-height));\n}\n\n@media (forced-colors: active) {\n  .thumb {\n    outline-width: 0;\n    outline-offset: 0;\n  }\n\n  .handle{\n    outline: 2px solid transparent;\n    outline-offset: 2px;\n  }\n\n  .thumb:focus .handle,\n.thumb .handle-extension,\n.thumb:hover .handle-extension,\n.thumb:focus .handle-extension,\n.thumb:active .handle-extension {\n    background-color: canvasText;\n  }\n\n  .track {\n    background-color: canvasText;\n  }\n\n  .track__range {\n    background-color: highlight;\n  }\n}\n.tick{\n  position: absolute;\n  block-size: 0.25rem;\n  inline-size: 0.125rem;\n  border-width: 1px;\n  border-style: solid;\n  background-color: var(--calcite-ui-border-input);\n  border-color: var(--calcite-ui-foreground-1);\n  inset-block-start: -2px;\n  pointer-events: none;\n  margin-inline-start: calc(-1 * 0.125rem);\n}\n\n.tick--active{\n  background-color: var(--calcite-ui-brand);\n}\n\n.tick__label{\n  pointer-events: none;\n  margin-block-start: 0.875rem;\n  display: flex;\n  justify-content: center;\n}\n\n.tick__label--min {\n  transition: opacity var(--calcite-animation-timing);\n}\n\n.tick__label--max {\n  transition: opacity var(--calcite-internal-animation-timing-fast);\n}\n\n:host([has-histogram][label-handles]) .tick__label--min, \n:host([has-histogram][label-handles]) .tick__label--max, \n:host([has-histogram][precise]) .tick__label--min, \n:host([has-histogram][precise]) .tick__label--max{\n  font-weight: var(--calcite-font-weight-normal);\n  color: var(--calcite-ui-text-3);\n}\n\n.graph {\n  color: var(--calcite-ui-foreground-3);\n  block-size: 48px;\n}\n\n:host([label-ticks][ticks]) .container {\n  padding-block-end: calc(0.875rem + var(--calcite-slider-container-font-size));\n}\n\n:host([has-histogram]):host([precise][label-handles]) .container {\n  padding-block-end: calc(var(--calcite-slider-full-handle-height) + 1em);\n}\n:host([has-histogram]):host([label-handles]:not([precise])) .container {\n  padding-block-end: calc(var(--calcite-slider-handle-size) * 0.5 + 1em);\n}\n:host([has-histogram]):host([precise]:not([label-handles])) .container {\n  padding-block-end: var(--calcite-slider-full-handle-height);\n}\n\n:host(:not([has-histogram])):host([precise]:not([label-handles])) .container {\n  padding-block-start: var(--calcite-slider-full-handle-height);\n}\n:host(:not([has-histogram])):host([precise]:not([label-handles])) .container--range {\n  padding-block-end: var(--calcite-slider-full-handle-height);\n}\n:host(:not([has-histogram])):host([label-handles]:not([precise])) .container {\n  padding-block-start: calc(var(--calcite-slider-full-handle-height) + 4px);\n}\n:host(:not([has-histogram])):host([label-handles][precise]) .container {\n  padding-block-start: calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px);\n}\n:host(:not([has-histogram])):host([label-handles][precise]) .container--range {\n  padding-block-end: calc(var(--calcite-slider-full-handle-height) + var(--calcite-slider-container-font-size) + 4px);\n}\n\n::slotted(input[slot=hidden-form-input]) {\n  margin: 0 !important;\n  opacity: 0 !important;\n  outline: none !important;\n  padding: 0 !important;\n  position: absolute !important;\n  inset: 0 !important;\n  transform: none !important;\n  -webkit-appearance: none !important;\n  z-index: -1 !important;\n}","/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\n * v1.0.0-beta.97\n */\nimport { h, Host } from \"@stencil/core\";\nimport { guid } from \"../../utils/guid\";\nimport { intersects, isPrimaryPointerButton } from \"../../utils/dom\";\nimport { clamp, decimalPlaces } from \"../../utils/math\";\nimport { connectLabel, disconnectLabel } from \"../../utils/label\";\nimport { afterConnectDefaultValueSet, connectForm, disconnectForm, HiddenFormInputSlot } from \"../../utils/form\";\nimport { updateHostInteraction } from \"../../utils/interactive\";\nimport { isActivationKey } from \"../../utils/key\";\nimport { connectLocalized, disconnectLocalized, numberStringFormatter } from \"../../utils/locale\";\nimport { CSS } from \"./resources\";\nfunction isRange(value) {\n  return Array.isArray(value);\n}\nexport class Slider {\n  constructor() {\n    //--------------------------------------------------------------------------\n    //\n    //  Properties\n    //\n    //--------------------------------------------------------------------------\n    /** When `true`, interaction is prevented and the component is displayed with lower opacity. */\n    this.disabled = false;\n    /**\n     * When `true`, number values are displayed with a group separator corresponding to the language and country format.\n     */\n    this.groupSeparator = false;\n    /** When `true`, indicates a histogram is present. */\n    this.hasHistogram = false;\n    /** When `true`, displays label handles with their numeric value. */\n    this.labelHandles = false;\n    /** When `true` and `ticks` is specified, displays label tick marks with their numeric value. */\n    this.labelTicks = false;\n    /** The component's maximum selectable value. */\n    this.max = 100;\n    /** The component's minimum selectable value. */\n    this.min = 0;\n    /**\n     * When `true`, the slider will display values from high to low.\n     *\n     * Note that this value will be ignored if the slider has an associated histogram.\n     */\n    this.mirrored = false;\n    /** When `true`, sets a finer point for handles. */\n    this.precise = false;\n    /**\n     * When `true`, the component must have a value in order for the form to submit.\n     */\n    this.required = false;\n    /** When `true`, enables snap selection in coordination with `step` via a mouse. */\n    this.snap = false;\n    /** Specifies the interval to move with the up, or down keys. */\n    this.step = 1;\n    /** The component's value. */\n    this.value = 0;\n    /**\n     *  Specifies the size of the component.\n     */\n    this.scale = \"m\";\n    this.activeProp = \"value\";\n    this.guid = `calcite-slider-${guid()}`;\n    this.effectiveLocale = \"\";\n    this.minMaxValueRange = null;\n    this.minValueDragRange = null;\n    this.maxValueDragRange = null;\n    this.tickValues = [];\n    this.dragUpdate = (event) => {\n      event.preventDefault();\n      if (this.dragProp) {\n        const value = this.translate(event.clientX || event.pageX);\n        if (isRange(this.value) && this.dragProp === \"minMaxValue\") {\n          if (this.minValueDragRange && this.maxValueDragRange && this.minMaxValueRange) {\n            const newMinValue = value - this.minValueDragRange;\n            const newMaxValue = value + this.maxValueDragRange;\n            if (newMaxValue <= this.max &&\n              newMinValue >= this.min &&\n              newMaxValue - newMinValue === this.minMaxValueRange) {\n              this.setValue({\n                minValue: this.clamp(newMinValue, \"minValue\"),\n                maxValue: this.clamp(newMaxValue, \"maxValue\")\n              });\n            }\n          }\n          else {\n            this.minValueDragRange = value - this.minValue;\n            this.maxValueDragRange = this.maxValue - value;\n            this.minMaxValueRange = this.maxValue - this.minValue;\n          }\n        }\n        else {\n          this.setValue({ [this.dragProp]: this.clamp(value, this.dragProp) });\n        }\n      }\n    };\n    this.pointerUpDragEnd = (event) => {\n      if (!isPrimaryPointerButton(event)) {\n        return;\n      }\n      this.dragEnd(event);\n    };\n    this.dragEnd = (event) => {\n      this.removeDragListeners();\n      this.focusActiveHandle(event.clientX);\n      if (this.lastDragPropValue != this[this.dragProp]) {\n        this.emitChange();\n      }\n      this.dragProp = null;\n      this.lastDragPropValue = null;\n      this.minValueDragRange = null;\n      this.maxValueDragRange = null;\n      this.minMaxValueRange = null;\n    };\n    /**\n     * Set the reference of the track Element\n     *\n     * @internal\n     * @param node\n     */\n    this.storeTrackRef = (node) => {\n      this.trackEl = node;\n    };\n    /**\n     * Returns a string representing the localized label value based if the groupSeparator prop is parsed.\n     *\n     * @param value\n     */\n    this.determineGroupSeparator = (value) => {\n      if (typeof value === \"number\") {\n        numberStringFormatter.numberFormatOptions = {\n          locale: this.effectiveLocale,\n          numberingSystem: this.numberingSystem,\n          useGrouping: this.groupSeparator\n        };\n        return numberStringFormatter.localize(value.toString());\n      }\n    };\n  }\n  histogramWatcher(newHistogram) {\n    this.hasHistogram = !!newHistogram;\n  }\n  valueHandler() {\n    this.setMinMaxFromValue();\n  }\n  minMaxValueHandler() {\n    this.setValueFromMinMax();\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Lifecycle\n  //\n  //--------------------------------------------------------------------------\n  connectedCallback() {\n    connectLocalized(this);\n    this.setMinMaxFromValue();\n    this.setValueFromMinMax();\n    connectLabel(this);\n    connectForm(this);\n  }\n  disconnectedCallback() {\n    disconnectLabel(this);\n    disconnectForm(this);\n    disconnectLocalized(this);\n    this.removeDragListeners();\n  }\n  componentWillLoad() {\n    this.tickValues = this.generateTickValues();\n    if (!isRange(this.value)) {\n      this.value = this.clamp(this.value);\n    }\n    afterConnectDefaultValueSet(this, this.value);\n    if (this.snap && !isRange(this.value)) {\n      this.value = this.getClosestStep(this.value);\n    }\n    if (this.histogram) {\n      this.hasHistogram = true;\n    }\n  }\n  componentDidRender() {\n    if (this.labelHandles) {\n      this.adjustHostObscuredHandleLabel(\"value\");\n      if (isRange(this.value)) {\n        this.adjustHostObscuredHandleLabel(\"minValue\");\n        if (!(this.precise && !this.hasHistogram)) {\n          this.hyphenateCollidingRangeHandleLabels();\n        }\n      }\n    }\n    this.hideObscuredBoundingTickLabels();\n    updateHostInteraction(this);\n  }\n  render() {\n    const id = this.el.id || this.guid;\n    const maxProp = isRange(this.value) ? \"maxValue\" : \"value\";\n    const value = isRange(this.value) ? this.maxValue : this.value;\n    const displayedValue = this.determineGroupSeparator(value);\n    const displayedMinValue = this.determineGroupSeparator(this.minValue);\n    const min = this.minValue || this.min;\n    const useMinValue = this.shouldUseMinValue();\n    const minInterval = this.getUnitInterval(useMinValue ? this.minValue : min) * 100;\n    const maxInterval = this.getUnitInterval(value) * 100;\n    const mirror = this.shouldMirror();\n    const leftThumbOffset = `${mirror ? 100 - minInterval : minInterval}%`;\n    const rightThumbOffset = `${mirror ? maxInterval : 100 - maxInterval}%`;\n    const valueIsRange = isRange(this.value);\n    const handleLabelMinValueClasses = `${CSS.handleLabel} ${CSS.handleLabelMinValue}`;\n    const handleLabelValueClasses = `${CSS.handleLabel} ${CSS.handleLabelValue}`;\n    const handle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": valueIsRange ? this.maxLabel : this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": value, class: {\n        thumb: true,\n        \"thumb--value\": true,\n        \"thumb--active\": this.lastDragProp !== \"minMaxValue\" && this.dragProp === maxProp\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = maxProp), onPointerDown: (event) => this.pointerDownDragStart(event, maxProp), ref: (el) => (this.maxHandle = el), role: \"slider\", style: { right: rightThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle\" })));\n    const labeledHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": valueIsRange ? this.maxLabel : this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": value, class: {\n        thumb: true,\n        \"thumb--value\": true,\n        \"thumb--active\": this.lastDragProp !== \"minMaxValue\" && this.dragProp === maxProp\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = maxProp), onPointerDown: (event) => this.pointerDownDragStart(event, maxProp), ref: (el) => (this.maxHandle = el), role: \"slider\", style: { right: rightThumbOffset }, tabIndex: 0 }, h(\"span\", { \"aria-hidden\": \"true\", class: handleLabelValueClasses }, displayedValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelValueClasses} static` }, displayedValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelValueClasses} transformed` }, displayedValue), h(\"div\", { class: \"handle\" })));\n    const histogramLabeledHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": valueIsRange ? this.maxLabel : this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": value, class: {\n        thumb: true,\n        \"thumb--value\": true,\n        \"thumb--active\": this.lastDragProp !== \"minMaxValue\" && this.dragProp === maxProp\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = maxProp), onPointerDown: (event) => this.pointerDownDragStart(event, maxProp), ref: (el) => (this.maxHandle = el), role: \"slider\", style: { right: rightThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle\" }), h(\"span\", { \"aria-hidden\": \"true\", class: handleLabelValueClasses }, displayedValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelValueClasses} static` }, displayedValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelValueClasses} transformed` }, displayedValue)));\n    const preciseHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": valueIsRange ? this.maxLabel : this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": value, class: {\n        thumb: true,\n        \"thumb--value\": true,\n        \"thumb--active\": this.lastDragProp !== \"minMaxValue\" && this.dragProp === maxProp,\n        \"thumb--precise\": true\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = maxProp), onPointerDown: (event) => this.pointerDownDragStart(event, maxProp), ref: (el) => (this.maxHandle = el), role: \"slider\", style: { right: rightThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle\" }), h(\"div\", { class: \"handle-extension\" })));\n    const histogramPreciseHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": valueIsRange ? this.maxLabel : this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": value, class: {\n        thumb: true,\n        \"thumb--value\": true,\n        \"thumb--active\": this.lastDragProp !== \"minMaxValue\" && this.dragProp === maxProp,\n        \"thumb--precise\": true\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = maxProp), onPointerDown: (event) => this.pointerDownDragStart(event, maxProp), ref: (el) => (this.maxHandle = el), role: \"slider\", style: { right: rightThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle-extension\" }), h(\"div\", { class: \"handle\" })));\n    const labeledPreciseHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": valueIsRange ? this.maxLabel : this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": value, class: {\n        thumb: true,\n        \"thumb--value\": true,\n        \"thumb--active\": this.lastDragProp !== \"minMaxValue\" && this.dragProp === maxProp,\n        \"thumb--precise\": true\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = maxProp), onPointerDown: (event) => this.pointerDownDragStart(event, maxProp), ref: (el) => (this.maxHandle = el), role: \"slider\", style: { right: rightThumbOffset }, tabIndex: 0 }, h(\"span\", { \"aria-hidden\": \"true\", class: handleLabelValueClasses }, displayedValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelValueClasses} static` }, displayedValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelValueClasses} transformed` }, displayedValue), h(\"div\", { class: \"handle\" }), h(\"div\", { class: \"handle-extension\" })));\n    const histogramLabeledPreciseHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": valueIsRange ? this.maxLabel : this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": value, class: {\n        thumb: true,\n        \"thumb--value\": true,\n        \"thumb--active\": this.lastDragProp !== \"minMaxValue\" && this.dragProp === maxProp,\n        \"thumb--precise\": true\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = maxProp), onPointerDown: (event) => this.pointerDownDragStart(event, maxProp), ref: (el) => (this.maxHandle = el), role: \"slider\", style: { right: rightThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle-extension\" }), h(\"div\", { class: \"handle\" }), h(\"span\", { \"aria-hidden\": \"true\", class: handleLabelValueClasses }, displayedValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelValueClasses} static` }, displayedValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelValueClasses} transformed` }, displayedValue)));\n    const minHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": this.minValue, class: {\n        thumb: true,\n        \"thumb--minValue\": true,\n        \"thumb--active\": this.dragProp === \"minValue\"\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = \"minValue\"), onPointerDown: (event) => this.pointerDownDragStart(event, \"minValue\"), ref: (el) => (this.minHandle = el), role: \"slider\", style: { left: leftThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle\" })));\n    const minLabeledHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": this.minValue, class: {\n        thumb: true,\n        \"thumb--minValue\": true,\n        \"thumb--active\": this.dragProp === \"minValue\"\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = \"minValue\"), onPointerDown: (event) => this.pointerDownDragStart(event, \"minValue\"), ref: (el) => (this.minHandle = el), role: \"slider\", style: { left: leftThumbOffset }, tabIndex: 0 }, h(\"span\", { \"aria-hidden\": \"true\", class: handleLabelMinValueClasses }, displayedMinValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelMinValueClasses} static` }, displayedMinValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelMinValueClasses} transformed` }, displayedMinValue), h(\"div\", { class: \"handle\" })));\n    const minHistogramLabeledHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": this.minValue, class: {\n        thumb: true,\n        \"thumb--minValue\": true,\n        \"thumb--active\": this.dragProp === \"minValue\"\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = \"minValue\"), onPointerDown: (event) => this.pointerDownDragStart(event, \"minValue\"), ref: (el) => (this.minHandle = el), role: \"slider\", style: { left: leftThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle\" }), h(\"span\", { \"aria-hidden\": \"true\", class: handleLabelMinValueClasses }, displayedMinValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelMinValueClasses} static` }, displayedMinValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelMinValueClasses} transformed` }, displayedMinValue)));\n    const minPreciseHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": this.minValue, class: {\n        thumb: true,\n        \"thumb--minValue\": true,\n        \"thumb--active\": this.dragProp === \"minValue\",\n        \"thumb--precise\": true\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = \"minValue\"), onPointerDown: (event) => this.pointerDownDragStart(event, \"minValue\"), ref: (el) => (this.minHandle = el), role: \"slider\", style: { left: leftThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle-extension\" }), h(\"div\", { class: \"handle\" })));\n    const minLabeledPreciseHandle = (h(\"div\", { \"aria-disabled\": this.disabled, \"aria-label\": this.minLabel, \"aria-orientation\": \"horizontal\", \"aria-valuemax\": this.max, \"aria-valuemin\": this.min, \"aria-valuenow\": this.minValue, class: {\n        thumb: true,\n        \"thumb--minValue\": true,\n        \"thumb--active\": this.dragProp === \"minValue\",\n        \"thumb--precise\": true\n      }, onBlur: () => (this.activeProp = null), onFocus: () => (this.activeProp = \"minValue\"), onPointerDown: (event) => this.pointerDownDragStart(event, \"minValue\"), ref: (el) => (this.minHandle = el), role: \"slider\", style: { left: leftThumbOffset }, tabIndex: 0 }, h(\"div\", { class: \"handle-extension\" }), h(\"div\", { class: \"handle\" }), h(\"span\", { \"aria-hidden\": \"true\", class: handleLabelMinValueClasses }, displayedMinValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelMinValueClasses} static` }, displayedMinValue), h(\"span\", { \"aria-hidden\": \"true\", class: `${handleLabelMinValueClasses} transformed` }, displayedMinValue)));\n    return (h(Host, { id: id, onTouchStart: this.handleTouchStart }, h(\"div\", { class: {\n        [\"container\"]: true,\n        [\"container--range\"]: valueIsRange,\n        [`scale--${this.scale}`]: true\n      } }, this.renderGraph(), h(\"div\", { class: \"track\", ref: this.storeTrackRef }, h(\"div\", { class: \"track__range\", onPointerDown: (event) => this.pointerDownDragStart(event, \"minMaxValue\"), style: {\n        left: `${mirror ? 100 - maxInterval : minInterval}%`,\n        right: `${mirror ? minInterval : 100 - maxInterval}%`\n      } }), h(\"div\", { class: \"ticks\" }, this.tickValues.map((tick) => {\n      const tickOffset = `${this.getUnitInterval(tick) * 100}%`;\n      let activeTicks = tick >= min && tick <= value;\n      if (useMinValue) {\n        activeTicks = tick >= this.minValue && tick <= this.maxValue;\n      }\n      return (h(\"span\", { class: {\n          tick: true,\n          \"tick--active\": activeTicks\n        }, style: {\n          left: mirror ? \"\" : tickOffset,\n          right: mirror ? tickOffset : \"\"\n        } }, this.renderTickLabel(tick)));\n    }))), h(\"div\", { class: \"thumb-container\" }, !this.precise && !this.labelHandles && valueIsRange && minHandle, !this.hasHistogram &&\n      !this.precise &&\n      this.labelHandles &&\n      valueIsRange &&\n      minLabeledHandle, this.precise && !this.labelHandles && valueIsRange && minPreciseHandle, this.precise && this.labelHandles && valueIsRange && minLabeledPreciseHandle, this.hasHistogram &&\n      !this.precise &&\n      this.labelHandles &&\n      valueIsRange &&\n      minHistogramLabeledHandle, !this.precise && !this.labelHandles && handle, !this.hasHistogram && !this.precise && this.labelHandles && labeledHandle, !this.hasHistogram && this.precise && !this.labelHandles && preciseHandle, this.hasHistogram && this.precise && !this.labelHandles && histogramPreciseHandle, !this.hasHistogram && this.precise && this.labelHandles && labeledPreciseHandle, this.hasHistogram && !this.precise && this.labelHandles && histogramLabeledHandle, this.hasHistogram &&\n      this.precise &&\n      this.labelHandles &&\n      histogramLabeledPreciseHandle, h(HiddenFormInputSlot, { component: this })))));\n  }\n  renderGraph() {\n    return this.histogram ? (h(\"calcite-graph\", { class: \"graph\", colorStops: this.histogramStops, data: this.histogram, highlightMax: isRange(this.value) ? this.maxValue : this.value, highlightMin: isRange(this.value) ? this.minValue : this.min, max: this.max, min: this.min })) : null;\n  }\n  renderTickLabel(tick) {\n    const valueIsRange = isRange(this.value);\n    const isMinTickLabel = tick === this.min;\n    const isMaxTickLabel = tick === this.max;\n    const displayedTickValue = this.determineGroupSeparator(tick);\n    const tickLabel = (h(\"span\", { class: {\n        tick__label: true,\n        [CSS.tickMin]: isMinTickLabel,\n        [CSS.tickMax]: isMaxTickLabel\n      } }, displayedTickValue));\n    if (this.labelTicks && !this.hasHistogram && !valueIsRange) {\n      return tickLabel;\n    }\n    if (this.labelTicks &&\n      !this.hasHistogram &&\n      valueIsRange &&\n      !this.precise &&\n      !this.labelHandles) {\n      return tickLabel;\n    }\n    if (this.labelTicks &&\n      !this.hasHistogram &&\n      valueIsRange &&\n      !this.precise &&\n      this.labelHandles) {\n      return tickLabel;\n    }\n    if (this.labelTicks &&\n      !this.hasHistogram &&\n      valueIsRange &&\n      this.precise &&\n      (isMinTickLabel || isMaxTickLabel)) {\n      return tickLabel;\n    }\n    if (this.labelTicks && this.hasHistogram && !this.precise && !this.labelHandles) {\n      return tickLabel;\n    }\n    if (this.labelTicks &&\n      this.hasHistogram &&\n      this.precise &&\n      !this.labelHandles &&\n      (isMinTickLabel || isMaxTickLabel)) {\n      return tickLabel;\n    }\n    if (this.labelTicks &&\n      this.hasHistogram &&\n      !this.precise &&\n      this.labelHandles &&\n      (isMinTickLabel || isMaxTickLabel)) {\n      return tickLabel;\n    }\n    if (this.labelTicks &&\n      this.hasHistogram &&\n      this.precise &&\n      this.labelHandles &&\n      (isMinTickLabel || isMaxTickLabel)) {\n      return tickLabel;\n    }\n    return null;\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Event Listeners\n  //\n  //--------------------------------------------------------------------------\n  keyDownHandler(event) {\n    const mirror = this.shouldMirror();\n    const { activeProp, max, min, pageStep, step } = this;\n    const value = this[activeProp];\n    const { key } = event;\n    if (isActivationKey(key)) {\n      event.preventDefault();\n      return;\n    }\n    let adjustment;\n    if (key === \"ArrowUp\" || key === \"ArrowRight\") {\n      const directionFactor = mirror && key === \"ArrowRight\" ? -1 : 1;\n      adjustment = value + step * directionFactor;\n    }\n    else if (key === \"ArrowDown\" || key === \"ArrowLeft\") {\n      const directionFactor = mirror && key === \"ArrowLeft\" ? -1 : 1;\n      adjustment = value - step * directionFactor;\n    }\n    else if (key === \"PageUp\") {\n      if (pageStep) {\n        adjustment = value + pageStep;\n      }\n    }\n    else if (key === \"PageDown\") {\n      if (pageStep) {\n        adjustment = value - pageStep;\n      }\n    }\n    else if (key === \"Home\") {\n      adjustment = min;\n    }\n    else if (key === \"End\") {\n      adjustment = max;\n    }\n    if (isNaN(adjustment)) {\n      return;\n    }\n    event.preventDefault();\n    const fixedDecimalAdjustment = Number(adjustment.toFixed(decimalPlaces(step)));\n    this.setValue({\n      [activeProp]: this.clamp(fixedDecimalAdjustment, activeProp)\n    });\n  }\n  pointerDownHandler(event) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    const x = event.clientX || event.pageX;\n    const position = this.translate(x);\n    let prop = \"value\";\n    if (isRange(this.value)) {\n      const inRange = position >= this.minValue && position <= this.maxValue;\n      if (inRange && this.lastDragProp === \"minMaxValue\") {\n        prop = \"minMaxValue\";\n      }\n      else {\n        const closerToMax = Math.abs(this.maxValue - position) < Math.abs(this.minValue - position);\n        prop = closerToMax || position > this.maxValue ? \"maxValue\" : \"minValue\";\n      }\n    }\n    this.lastDragPropValue = this[prop];\n    this.dragStart(prop);\n    const isThumbActive = this.el.shadowRoot.querySelector(\".thumb:active\");\n    if (!isThumbActive) {\n      this.setValue({ [prop]: this.clamp(position, prop) });\n    }\n    this.focusActiveHandle(x);\n  }\n  handleTouchStart(event) {\n    // needed to prevent extra click at the end of a handle drag\n    event.preventDefault();\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Public Methods\n  //\n  //--------------------------------------------------------------------------\n  /** Sets focus on the component. */\n  async setFocus() {\n    const handle = this.minHandle ? this.minHandle : this.maxHandle;\n    handle === null || handle === void 0 ? void 0 : handle.focus();\n  }\n  //--------------------------------------------------------------------------\n  //\n  //  Private Methods\n  //\n  //--------------------------------------------------------------------------\n  setValueFromMinMax() {\n    const { minValue, maxValue } = this;\n    if (typeof minValue === \"number\" && typeof maxValue === \"number\") {\n      this.value = [minValue, maxValue];\n    }\n  }\n  setMinMaxFromValue() {\n    const { value } = this;\n    if (isRange(value)) {\n      this.minValue = value[0];\n      this.maxValue = value[1];\n    }\n  }\n  onLabelClick() {\n    this.setFocus();\n  }\n  shouldMirror() {\n    return this.mirrored && !this.hasHistogram;\n  }\n  shouldUseMinValue() {\n    if (!isRange(this.value)) {\n      return false;\n    }\n    return ((this.hasHistogram && this.maxValue === 0) || (!this.hasHistogram && this.minValue === 0));\n  }\n  generateTickValues() {\n    const ticks = [];\n    let current = this.min;\n    while (this.ticks && current < this.max + this.ticks) {\n      ticks.push(Math.min(current, this.max));\n      current = current + this.ticks;\n    }\n    return ticks;\n  }\n  pointerDownDragStart(event, prop) {\n    if (!isPrimaryPointerButton(event)) {\n      return;\n    }\n    this.dragStart(prop);\n  }\n  dragStart(prop) {\n    this.dragProp = prop;\n    this.lastDragProp = this.dragProp;\n    this.activeProp = prop;\n    document.addEventListener(\"pointermove\", this.dragUpdate);\n    document.addEventListener(\"pointerup\", this.pointerUpDragEnd);\n    document.addEventListener(\"pointercancel\", this.dragEnd);\n  }\n  focusActiveHandle(valueX) {\n    switch (this.dragProp) {\n      case \"minValue\":\n        this.minHandle.focus();\n        break;\n      case \"maxValue\":\n      case \"value\":\n        this.maxHandle.focus();\n        break;\n      case \"minMaxValue\":\n        this.getClosestHandle(valueX).focus();\n        break;\n      default:\n        break;\n    }\n  }\n  emitInput() {\n    this.calciteSliderInput.emit();\n    this.calciteSliderUpdate.emit();\n  }\n  emitChange() {\n    this.calciteSliderChange.emit();\n  }\n  removeDragListeners() {\n    document.removeEventListener(\"pointermove\", this.dragUpdate);\n    document.removeEventListener(\"pointerup\", this.pointerUpDragEnd);\n    document.removeEventListener(\"pointercancel\", this.dragEnd);\n  }\n  /**\n   * Set prop value(s) if changed at the component level\n   *\n   * @param {object} values - a set of key/value pairs delineating what properties in the component to update\n   */\n  setValue(values) {\n    let valueChanged;\n    Object.keys(values).forEach((propName) => {\n      const newValue = values[propName];\n      if (!valueChanged) {\n        const oldValue = this[propName];\n        valueChanged = oldValue !== newValue;\n      }\n      this[propName] = newValue;\n    });\n    if (!valueChanged) {\n      return;\n    }\n    const dragging = this.dragProp;\n    if (!dragging) {\n      this.emitChange();\n    }\n    this.emitInput();\n  }\n  /**\n   * If number is outside range, constrain to min or max\n   *\n   * @param value\n   * @param prop\n   * @internal\n   */\n  clamp(value, prop) {\n    value = clamp(value, this.min, this.max);\n    // ensure that maxValue and minValue don't swap positions\n    if (prop === \"maxValue\") {\n      value = Math.max(value, this.minValue);\n    }\n    if (prop === \"minValue\") {\n      value = Math.min(value, this.maxValue);\n    }\n    return value;\n  }\n  /**\n   * Translate a pixel position to value along the range\n   *\n   * @param x\n   * @internal\n   */\n  translate(x) {\n    const range = this.max - this.min;\n    const { left, width } = this.trackEl.getBoundingClientRect();\n    const percent = (x - left) / width;\n    const mirror = this.shouldMirror();\n    const clampedValue = this.clamp(this.min + range * (mirror ? 1 - percent : percent));\n    let value = Number(clampedValue.toFixed(decimalPlaces(this.step)));\n    if (this.snap && this.step) {\n      value = this.getClosestStep(value);\n    }\n    return value;\n  }\n  /**\n   * Get closest allowed value along stepped values\n   *\n   * @param num\n   * @internal\n   */\n  getClosestStep(num) {\n    num = Number(this.clamp(num).toFixed(decimalPlaces(this.step)));\n    if (this.step) {\n      const step = Math.round(num / this.step) * this.step;\n      num = Number(this.clamp(step).toFixed(decimalPlaces(this.step)));\n    }\n    return num;\n  }\n  getClosestHandle(valueX) {\n    return this.getDistanceX(this.maxHandle, valueX) > this.getDistanceX(this.minHandle, valueX)\n      ? this.minHandle\n      : this.maxHandle;\n  }\n  getDistanceX(el, valueX) {\n    return Math.abs(el.getBoundingClientRect().left - valueX);\n  }\n  getFontSizeForElement(element) {\n    return Number(window.getComputedStyle(element).getPropertyValue(\"font-size\").match(/\\d+/)[0]);\n  }\n  /**\n   * Get position of value along range as fractional value\n   *\n   * @param num\n   * @return {number} number in the unit interval [0,1]\n   * @internal\n   */\n  getUnitInterval(num) {\n    num = this.clamp(num);\n    const range = this.max - this.min;\n    return (num - this.min) / range;\n  }\n  adjustHostObscuredHandleLabel(name) {\n    const label = this.el.shadowRoot.querySelector(`.handle__label--${name}`);\n    const labelStatic = this.el.shadowRoot.querySelector(`.handle__label--${name}.static`);\n    const labelTransformed = this.el.shadowRoot.querySelector(`.handle__label--${name}.transformed`);\n    const labelStaticBounds = labelStatic.getBoundingClientRect();\n    const labelStaticOffset = this.getHostOffset(labelStaticBounds.left, labelStaticBounds.right);\n    label.style.transform = `translateX(${labelStaticOffset}px)`;\n    labelTransformed.style.transform = `translateX(${labelStaticOffset}px)`;\n  }\n  hyphenateCollidingRangeHandleLabels() {\n    const { shadowRoot } = this.el;\n    const mirror = this.shouldMirror();\n    const leftModifier = mirror ? \"value\" : \"minValue\";\n    const rightModifier = mirror ? \"minValue\" : \"value\";\n    const leftValueLabel = shadowRoot.querySelector(`.handle__label--${leftModifier}`);\n    const leftValueLabelStatic = shadowRoot.querySelector(`.handle__label--${leftModifier}.static`);\n    const leftValueLabelTransformed = shadowRoot.querySelector(`.handle__label--${leftModifier}.transformed`);\n    const leftValueLabelStaticHostOffset = this.getHostOffset(leftValueLabelStatic.getBoundingClientRect().left, leftValueLabelStatic.getBoundingClientRect().right);\n    const rightValueLabel = shadowRoot.querySelector(`.handle__label--${rightModifier}`);\n    const rightValueLabelStatic = shadowRoot.querySelector(`.handle__label--${rightModifier}.static`);\n    const rightValueLabelTransformed = shadowRoot.querySelector(`.handle__label--${rightModifier}.transformed`);\n    const rightValueLabelStaticHostOffset = this.getHostOffset(rightValueLabelStatic.getBoundingClientRect().left, rightValueLabelStatic.getBoundingClientRect().right);\n    const labelFontSize = this.getFontSizeForElement(leftValueLabel);\n    const labelTransformedOverlap = this.getRangeLabelOverlap(leftValueLabelTransformed, rightValueLabelTransformed);\n    const hyphenLabel = leftValueLabel;\n    const labelOffset = labelFontSize / 2;\n    if (labelTransformedOverlap > 0) {\n      hyphenLabel.classList.add(\"hyphen\", \"hyphen--wrap\");\n      if (rightValueLabelStaticHostOffset === 0 && leftValueLabelStaticHostOffset === 0) {\n        // Neither handle overlaps the host boundary\n        let leftValueLabelTranslate = labelTransformedOverlap / 2 - labelOffset;\n        leftValueLabelTranslate =\n          Math.sign(leftValueLabelTranslate) === -1\n            ? Math.abs(leftValueLabelTranslate)\n            : -leftValueLabelTranslate;\n        const leftValueLabelTransformedHostOffset = this.getHostOffset(leftValueLabelTransformed.getBoundingClientRect().left +\n          leftValueLabelTranslate -\n          labelOffset, leftValueLabelTransformed.getBoundingClientRect().right +\n          leftValueLabelTranslate -\n          labelOffset);\n        let rightValueLabelTranslate = labelTransformedOverlap / 2;\n        const rightValueLabelTransformedHostOffset = this.getHostOffset(rightValueLabelTransformed.getBoundingClientRect().left + rightValueLabelTranslate, rightValueLabelTransformed.getBoundingClientRect().right + rightValueLabelTranslate);\n        if (leftValueLabelTransformedHostOffset !== 0) {\n          leftValueLabelTranslate += leftValueLabelTransformedHostOffset;\n          rightValueLabelTranslate += leftValueLabelTransformedHostOffset;\n        }\n        if (rightValueLabelTransformedHostOffset !== 0) {\n          leftValueLabelTranslate += rightValueLabelTransformedHostOffset;\n          rightValueLabelTranslate += rightValueLabelTransformedHostOffset;\n        }\n        leftValueLabel.style.transform = `translateX(${leftValueLabelTranslate}px)`;\n        leftValueLabelTransformed.style.transform = `translateX(${leftValueLabelTranslate - labelOffset}px)`;\n        rightValueLabel.style.transform = `translateX(${rightValueLabelTranslate}px)`;\n        rightValueLabelTransformed.style.transform = `translateX(${rightValueLabelTranslate}px)`;\n      }\n      else if (leftValueLabelStaticHostOffset > 0 || rightValueLabelStaticHostOffset > 0) {\n        // labels overlap host boundary on the left side\n        leftValueLabel.style.transform = `translateX(${leftValueLabelStaticHostOffset + labelOffset}px)`;\n        rightValueLabel.style.transform = `translateX(${labelTransformedOverlap + rightValueLabelStaticHostOffset}px)`;\n        rightValueLabelTransformed.style.transform = `translateX(${labelTransformedOverlap + rightValueLabelStaticHostOffset}px)`;\n      }\n      else if (leftValueLabelStaticHostOffset < 0 || rightValueLabelStaticHostOffset < 0) {\n        // labels overlap host boundary on the right side\n        let leftValueLabelTranslate = Math.abs(leftValueLabelStaticHostOffset) + labelTransformedOverlap - labelOffset;\n        leftValueLabelTranslate =\n          Math.sign(leftValueLabelTranslate) === -1\n            ? Math.abs(leftValueLabelTranslate)\n            : -leftValueLabelTranslate;\n        leftValueLabel.style.transform = `translateX(${leftValueLabelTranslate}px)`;\n        leftValueLabelTransformed.style.transform = `translateX(${leftValueLabelTranslate - labelOffset}px)`;\n      }\n    }\n    else {\n      hyphenLabel.classList.remove(\"hyphen\", \"hyphen--wrap\");\n      leftValueLabel.style.transform = `translateX(${leftValueLabelStaticHostOffset}px)`;\n      leftValueLabelTransformed.style.transform = `translateX(${leftValueLabelStaticHostOffset}px)`;\n      rightValueLabel.style.transform = `translateX(${rightValueLabelStaticHostOffset}px)`;\n      rightValueLabelTransformed.style.transform = `translateX(${rightValueLabelStaticHostOffset}px)`;\n    }\n  }\n  /**\n   * Hides bounding tick labels that are obscured by either handle.\n   */\n  hideObscuredBoundingTickLabels() {\n    const valueIsRange = isRange(this.value);\n    if (!this.hasHistogram && !valueIsRange && !this.labelHandles && !this.precise) {\n      return;\n    }\n    if (!this.hasHistogram && !valueIsRange && this.labelHandles && !this.precise) {\n      return;\n    }\n    if (!this.hasHistogram && !valueIsRange && !this.labelHandles && this.precise) {\n      return;\n    }\n    if (!this.hasHistogram && !valueIsRange && this.labelHandles && this.precise) {\n      return;\n    }\n    if (!this.hasHistogram && valueIsRange && !this.precise) {\n      return;\n    }\n    if (this.hasHistogram && !this.precise && !this.labelHandles) {\n      return;\n    }\n    const minHandle = this.el.shadowRoot.querySelector(\".thumb--minValue\");\n    const maxHandle = this.el.shadowRoot.querySelector(\".thumb--value\");\n    const minTickLabel = this.el.shadowRoot.querySelector(\".tick__label--min\");\n    const maxTickLabel = this.el.shadowRoot.querySelector(\".tick__label--max\");\n    if (!minHandle && maxHandle && minTickLabel && maxTickLabel) {\n      minTickLabel.style.opacity = this.isMinTickLabelObscured(minTickLabel, maxHandle) ? \"0\" : \"1\";\n      maxTickLabel.style.opacity = this.isMaxTickLabelObscured(maxTickLabel, maxHandle) ? \"0\" : \"1\";\n    }\n    if (minHandle && maxHandle && minTickLabel && maxTickLabel) {\n      minTickLabel.style.opacity =\n        this.isMinTickLabelObscured(minTickLabel, minHandle) ||\n          this.isMinTickLabelObscured(minTickLabel, maxHandle)\n          ? \"0\"\n          : \"1\";\n      maxTickLabel.style.opacity =\n        this.isMaxTickLabelObscured(maxTickLabel, minHandle) ||\n          (this.isMaxTickLabelObscured(maxTickLabel, maxHandle) && this.hasHistogram)\n          ? \"0\"\n          : \"1\";\n    }\n  }\n  /**\n   * Returns an integer representing the number of pixels to offset on the left or right side based on desired position behavior.\n   *\n   * @param leftBounds\n   * @param rightBounds\n   * @internal\n   */\n  getHostOffset(leftBounds, rightBounds) {\n    const hostBounds = this.el.getBoundingClientRect();\n    const buffer = 7;\n    if (leftBounds + buffer < hostBounds.left) {\n      return hostBounds.left - leftBounds - buffer;\n    }\n    if (rightBounds - buffer > hostBounds.right) {\n      return -(rightBounds - hostBounds.right) + buffer;\n    }\n    return 0;\n  }\n  /**\n   * Returns an integer representing the number of pixels that the two given span elements are overlapping, taking into account\n   * a space in between the two spans equal to the font-size set on them to account for the space needed to render a hyphen.\n   *\n   * @param leftLabel\n   * @param rightLabel\n   */\n  getRangeLabelOverlap(leftLabel, rightLabel) {\n    const leftLabelBounds = leftLabel.getBoundingClientRect();\n    const rightLabelBounds = rightLabel.getBoundingClientRect();\n    const leftLabelFontSize = this.getFontSizeForElement(leftLabel);\n    const rangeLabelOverlap = leftLabelBounds.right + leftLabelFontSize - rightLabelBounds.left;\n    return Math.max(rangeLabelOverlap, 0);\n  }\n  /**\n   * Returns a boolean value representing if the minLabel span element is obscured (being overlapped) by the given handle div element.\n   *\n   * @param minLabel\n   * @param handle\n   */\n  isMinTickLabelObscured(minLabel, handle) {\n    const minLabelBounds = minLabel.getBoundingClientRect();\n    const handleBounds = handle.getBoundingClientRect();\n    return intersects(minLabelBounds, handleBounds);\n  }\n  /**\n   * Returns a boolean value representing if the maxLabel span element is obscured (being overlapped) by the given handle div element.\n   *\n   * @param maxLabel\n   * @param handle\n   */\n  isMaxTickLabelObscured(maxLabel, handle) {\n    const maxLabelBounds = maxLabel.getBoundingClientRect();\n    const handleBounds = handle.getBoundingClientRect();\n    return intersects(maxLabelBounds, handleBounds);\n  }\n  static get is() { return \"calcite-slider\"; }\n  static get encapsulation() { return \"shadow\"; }\n  static get originalStyleUrls() {\n    return {\n      \"$\": [\"slider.scss\"]\n    };\n  }\n  static get styleUrls() {\n    return {\n      \"$\": [\"slider.css\"]\n    };\n  }\n  static get properties() {\n    return {\n      \"disabled\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, interaction is prevented and the component is displayed with lower opacity.\"\n        },\n        \"attribute\": \"disabled\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"groupSeparator\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, number values are displayed with a group separator corresponding to the language and country format.\"\n        },\n        \"attribute\": \"group-separator\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"hasHistogram\": {\n        \"type\": \"boolean\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, indicates a histogram is present.\"\n        },\n        \"attribute\": \"has-histogram\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"histogram\": {\n        \"type\": \"unknown\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"DataSeries\",\n          \"resolved\": \"Point[]\",\n          \"references\": {\n            \"DataSeries\": {\n              \"location\": \"import\",\n              \"path\": \"../graph/interfaces\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"see\",\n              \"text\": \"[DataSeries](https://github.com/Esri/calcite-components/blob/master/src/components/graph/interfaces.ts#L5)\"\n            }],\n          \"text\": \"A list of the histogram's x,y coordinates within the component's `min` and `max`. Displays above the component's track.\"\n        }\n      },\n      \"histogramStops\": {\n        \"type\": \"unknown\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"ColorStop[]\",\n          \"resolved\": \"ColorStop[]\",\n          \"references\": {\n            \"ColorStop\": {\n              \"location\": \"import\",\n              \"path\": \"../graph/interfaces\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"A set of single color stops for a histogram, sorted by offset ascending.\"\n        }\n      },\n      \"labelHandles\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, displays label handles with their numeric value.\"\n        },\n        \"attribute\": \"label-handles\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"labelTicks\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true` and `ticks` is specified, displays label tick marks with their numeric value.\"\n        },\n        \"attribute\": \"label-ticks\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"max\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The component's maximum selectable value.\"\n        },\n        \"attribute\": \"max\",\n        \"reflect\": true,\n        \"defaultValue\": \"100\"\n      },\n      \"maxLabel\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"For multiple selections, the accessible name for the second handle, such as `\\\"Temperature, upper bound\\\"`.\"\n        },\n        \"attribute\": \"max-label\",\n        \"reflect\": false\n      },\n      \"maxValue\": {\n        \"type\": \"number\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"For multiple selections, the component's upper value.\"\n        },\n        \"attribute\": \"max-value\",\n        \"reflect\": false\n      },\n      \"min\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The component's minimum selectable value.\"\n        },\n        \"attribute\": \"min\",\n        \"reflect\": true,\n        \"defaultValue\": \"0\"\n      },\n      \"minLabel\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Accessible name for first (or only) handle, such as `\\\"Temperature, lower bound\\\"`.\"\n        },\n        \"attribute\": \"min-label\",\n        \"reflect\": false\n      },\n      \"minValue\": {\n        \"type\": \"number\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"For multiple selections, the component's lower value.\"\n        },\n        \"attribute\": \"min-value\",\n        \"reflect\": false\n      },\n      \"mirrored\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, the slider will display values from high to low.\\n\\nNote that this value will be ignored if the slider has an associated histogram.\"\n        },\n        \"attribute\": \"mirrored\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"name\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"string\",\n          \"resolved\": \"string\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the name of the component on form submission.\"\n        },\n        \"attribute\": \"name\",\n        \"reflect\": true\n      },\n      \"numberingSystem\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"NumberingSystem\",\n          \"resolved\": \"\\\"arab\\\" | \\\"arabext\\\" | \\\"bali\\\" | \\\"beng\\\" | \\\"deva\\\" | \\\"fullwide\\\" | \\\"gujr\\\" | \\\"guru\\\" | \\\"hanidec\\\" | \\\"khmr\\\" | \\\"knda\\\" | \\\"laoo\\\" | \\\"latn\\\" | \\\"limb\\\" | \\\"mlym\\\" | \\\"mong\\\" | \\\"mymr\\\" | \\\"orya\\\" | \\\"tamldec\\\" | \\\"telu\\\" | \\\"thai\\\" | \\\"tibt\\\"\",\n          \"references\": {\n            \"NumberingSystem\": {\n              \"location\": \"import\",\n              \"path\": \"../../utils/locale\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the Unicode numeral system used by the component for localization.\"\n        },\n        \"attribute\": \"numbering-system\",\n        \"reflect\": false\n      },\n      \"pageStep\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the interval to move with the page up, or page down keys.\"\n        },\n        \"attribute\": \"page-step\",\n        \"reflect\": true\n      },\n      \"precise\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, sets a finer point for handles.\"\n        },\n        \"attribute\": \"precise\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"required\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, the component must have a value in order for the form to submit.\"\n        },\n        \"attribute\": \"required\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"snap\": {\n        \"type\": \"boolean\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"boolean\",\n          \"resolved\": \"boolean\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"When `true`, enables snap selection in coordination with `step` via a mouse.\"\n        },\n        \"attribute\": \"snap\",\n        \"reflect\": true,\n        \"defaultValue\": \"false\"\n      },\n      \"step\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the interval to move with the up, or down keys.\"\n        },\n        \"attribute\": \"step\",\n        \"reflect\": true,\n        \"defaultValue\": \"1\"\n      },\n      \"ticks\": {\n        \"type\": \"number\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"number\",\n          \"resolved\": \"number\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Displays tick marks on the number line at a specified interval.\"\n        },\n        \"attribute\": \"ticks\",\n        \"reflect\": true\n      },\n      \"value\": {\n        \"type\": \"number\",\n        \"mutable\": true,\n        \"complexType\": {\n          \"original\": \"null | number | number[]\",\n          \"resolved\": \"number | number[]\",\n          \"references\": {}\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"The component's value.\"\n        },\n        \"attribute\": \"value\",\n        \"reflect\": true,\n        \"defaultValue\": \"0\"\n      },\n      \"scale\": {\n        \"type\": \"string\",\n        \"mutable\": false,\n        \"complexType\": {\n          \"original\": \"Scale\",\n          \"resolved\": \"\\\"l\\\" | \\\"m\\\" | \\\"s\\\"\",\n          \"references\": {\n            \"Scale\": {\n              \"location\": \"import\",\n              \"path\": \"../interfaces\"\n            }\n          }\n        },\n        \"required\": false,\n        \"optional\": false,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Specifies the size of the component.\"\n        },\n        \"attribute\": \"scale\",\n        \"reflect\": true,\n        \"defaultValue\": \"\\\"m\\\"\"\n      }\n    };\n  }\n  static get states() {\n    return {\n      \"effectiveLocale\": {},\n      \"minMaxValueRange\": {},\n      \"minValueDragRange\": {},\n      \"maxValueDragRange\": {},\n      \"tickValues\": {}\n    };\n  }\n  static get events() {\n    return [{\n        \"method\": \"calciteSliderInput\",\n        \"name\": \"calciteSliderInput\",\n        \"bubbles\": true,\n        \"cancelable\": false,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Fires on all updates to the component.\\n\\n**Note:** Will be fired frequently during drag. If you are performing any\\nexpensive operations consider using a debounce or throttle to avoid\\nlocking up the main thread.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }, {\n        \"method\": \"calciteSliderChange\",\n        \"name\": \"calciteSliderChange\",\n        \"bubbles\": true,\n        \"cancelable\": false,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [],\n          \"text\": \"Fires when the thumb is released on the component.\\n\\n**Note:** If you need to constantly listen to the drag event,\\nuse `calciteSliderInput` instead.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }, {\n        \"method\": \"calciteSliderUpdate\",\n        \"name\": \"calciteSliderUpdate\",\n        \"bubbles\": true,\n        \"cancelable\": false,\n        \"composed\": true,\n        \"docs\": {\n          \"tags\": [{\n              \"name\": \"deprecated\",\n              \"text\": \"use `calciteSliderInput` instead.\"\n            }],\n          \"text\": \"Fires on all updates to the component.\\n\\n**Note:** Will be fired frequently during drag. If you are performing any\\nexpensive operations consider using a debounce or throttle to avoid\\nlocking up the main thread.\"\n        },\n        \"complexType\": {\n          \"original\": \"void\",\n          \"resolved\": \"void\",\n          \"references\": {}\n        }\n      }];\n  }\n  static get methods() {\n    return {\n      \"setFocus\": {\n        \"complexType\": {\n          \"signature\": \"() => Promise<void>\",\n          \"parameters\": [],\n          \"references\": {\n            \"Promise\": {\n              \"location\": \"global\"\n            }\n          },\n          \"return\": \"Promise<void>\"\n        },\n        \"docs\": {\n          \"text\": \"Sets focus on the component.\",\n          \"tags\": []\n        }\n      }\n    };\n  }\n  static get elementRef() { return \"el\"; }\n  static get watchers() {\n    return [{\n        \"propName\": \"histogram\",\n        \"methodName\": \"histogramWatcher\"\n      }, {\n        \"propName\": \"value\",\n        \"methodName\": \"valueHandler\"\n      }, {\n        \"propName\": \"minValue\",\n        \"methodName\": \"minMaxValueHandler\"\n      }, {\n        \"propName\": \"maxValue\",\n        \"methodName\": \"minMaxValueHandler\"\n      }];\n  }\n  static get listeners() {\n    return [{\n        \"name\": \"keydown\",\n        \"method\": \"keyDownHandler\",\n        \"target\": undefined,\n        \"capture\": false,\n        \"passive\": false\n      }, {\n        \"name\": \"pointerdown\",\n        \"method\": \"pointerDownHandler\",\n        \"target\": undefined,\n        \"capture\": false,\n        \"passive\": true\n      }];\n  }\n}\n","/** @license\r\n * Copyright 2022 Esri\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.border {\r\n  outline: 1px solid var(--calcite-ui-border-input);\r\n}\r\n","/** @license\r\n * Copyright 2022 Esri\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { Component, Element, Event, EventEmitter, Host, h, Method, Prop, State, VNode, Watch } from \"@stencil/core\";\r\nimport { loadModules } from \"../../utils/loadModules\";\r\nimport state from \"../../utils/publicNotificationStore\";\r\nimport MapDrawTools_T9n from \"../../assets/t9n/map-draw-tools/resources.json\";\r\nimport { getLocaleComponentStrings } from \"../../utils/locale\";\r\n\r\n@Component({\r\n  tag: \"map-draw-tools\",\r\n  styleUrl: \"map-draw-tools.css\",\r\n  shadow: false,\r\n})\r\nexport class MapDrawTools {\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Host element access\r\n  //\r\n  //--------------------------------------------------------------------------\r\n  @Element() el: HTMLMapDrawToolsElement;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Properties (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * boolean: sketch is used by multiple components...need a way to know who should respond...\r\n   */\r\n  @Prop() active = false;\r\n\r\n  /**\r\n   * boolean: Optionally draw a border around the draw tools\r\n   */\r\n  @Prop() border = false;\r\n\r\n  /**\r\n   * esri/views/View: https://developers.arcgis.com/javascript/latest/api-reference/esri-views-MapView.html\r\n   */\r\n  @Prop({ mutable: true }) mapView: __esri.MapView;\r\n\r\n  /**\r\n   * esri/symbols/SimpleMarkerSymbol: https://developers.arcgis.com/javascript/latest/api-reference/esri-symbols-SimpleMarkerSymbol.html\r\n   */\r\n  @Prop({ mutable: true }) pointSymbol: __esri.SimpleMarkerSymbol;\r\n\r\n  /**\r\n   * esri/symbols/SimpleLineSymbol: https://developers.arcgis.com/javascript/latest/api-reference/esri-symbols-SimpleLineSymbol.html\r\n   */\r\n  @Prop({ mutable: true }) polylineSymbol: __esri.SimpleLineSymbol;\r\n\r\n  /**\r\n   * esri/symbols/SimpleFillSymbol: https://developers.arcgis.com/javascript/latest/api-reference/esri-symbols-SimpleFillSymbol.html\r\n   */\r\n  @Prop({ mutable: true }) polygonSymbol: __esri.SimpleFillSymbol;\r\n\r\n  /**\r\n   * esri/Graphic: https://developers.arcgis.com/javascript/latest/api-reference/esri-Graphic.html\r\n   */\r\n  @Prop({ mutable: true }) graphics: __esri.Graphic[] = [];\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  State (internal)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Contains the translations for this component.\r\n   * All UI strings should be defined here.\r\n   */\r\n  @State() protected _translations: typeof MapDrawTools_T9n;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Properties (protected)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * esri/layers/GraphicsLayer: https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-GraphicsLayer.html?#constructors-summary\r\n   */\r\n  protected GraphicsLayer: typeof import(\"esri/layers/GraphicsLayer\");\r\n\r\n  /**\r\n   * esri/widgets/Sketch: https://developers.arcgis.com/javascript/latest/api-reference/esri-widgets-Sketch.html#constructors-summary\r\n   */\r\n  protected Sketch: typeof import(\"esri/widgets/Sketch\");\r\n\r\n  /**\r\n   * A timer used to prevent redundant selections while drawing shapes\r\n   */\r\n  protected _selectionTimer;\r\n\r\n  /**\r\n   * The container element for the sketch widget\r\n   */\r\n  protected _sketchElement: HTMLElement;\r\n\r\n  /**\r\n   * esri/layers/GraphicsLayer: https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-GraphicsLayer.html\r\n   */\r\n  protected _sketchGraphicsLayer: __esri.GraphicsLayer;\r\n\r\n  /**\r\n   * esri/widgets/Sketch: https://developers.arcgis.com/javascript/latest/api-reference/esri-widgets-Sketch.html\r\n   */\r\n  protected _sketchWidget: __esri.Sketch;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Watch handlers\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Called each time the graphics prop is changed.\r\n   *\r\n   */\r\n  @Watch(\"graphics\")\r\n  graphicsWatchHandler(v: any, oldV: any): void {\r\n    if (v && v.length > 0 && JSON.stringify(v) !== JSON.stringify(oldV) && this._sketchGraphicsLayer) {\r\n      this._sketchGraphicsLayer.removeAll();\r\n      this._sketchGraphicsLayer.addMany(v);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Called each time the mapView prop is changed.\r\n   *\r\n   */\r\n  @Watch(\"mapView\")\r\n  mapViewWatchHandler(v: any, oldV: any): void {\r\n    if (v && v !== oldV) {\r\n      this._init();\r\n    }\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Methods (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Clears the user drawn graphics\r\n   *\r\n   * @returns Promise that resolves when the operation is complete\r\n   */\r\n  @Method()\r\n  async clear(): Promise<void> {\r\n    this._clearSketch();\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Events (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Emitted on demand when the sketch graphics change.\r\n   *\r\n   */\r\n  @Event() sketchGraphicsChange: EventEmitter<__esri.Graphic[]>;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Functions (lifecycle)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * StencilJS: Called once just after the component is first connected to the DOM.\r\n   *\r\n   * @returns Promise when complete\r\n   */\r\n  async componentWillLoad(): Promise<void> {\r\n    await this._getTranslations();\r\n    await this._initModules();\r\n  }\r\n\r\n  /**\r\n   * StencilJS: Called once just after the component is fully loaded and the first render() occurs.\r\n   *\r\n   * @returns Promise when complete\r\n   */\r\n  componentDidLoad(): void {\r\n    this._init();\r\n  }\r\n\r\n  /**\r\n   * Renders the component.\r\n   */\r\n  render(): VNode {\r\n    const drawClass = this.border ? \"border\" : \"\";\r\n    return (\r\n      <Host>\r\n        <div class={drawClass}>\r\n          <div ref={(el) => { this._sketchElement = el }} />\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Functions (protected)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Load esri javascript api modules\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   *\r\n   * @protected\r\n   */\r\n  protected async _initModules(): Promise<void> {\r\n    const [GraphicsLayer, Sketch] = await loadModules([\r\n      \"esri/layers/GraphicsLayer\",\r\n      \"esri/widgets/Sketch\"\r\n    ]);\r\n    this.GraphicsLayer = GraphicsLayer;\r\n    this.Sketch = Sketch;\r\n  }\r\n\r\n  /**\r\n   * Initialize the graphics layer and the tools that support creating new graphics\r\n   *\r\n   * @protected\r\n   */\r\n  protected _init(): void {\r\n    if (this.mapView && this._sketchElement) {\r\n      this._initGraphicsLayer();\r\n      this._initDrawTools();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create or find the graphics layer and add any existing graphics\r\n   *\r\n   * @protected\r\n   */\r\n  protected _initGraphicsLayer(): void {\r\n    const title = this._translations.sketchLayer;\r\n    const sketchIndex = this.mapView.map.layers.findIndex((l) => l.title === title);\r\n    if (sketchIndex > -1) {\r\n      this._sketchGraphicsLayer = this.mapView.map.layers.getItemAt(sketchIndex) as __esri.GraphicsLayer;\r\n    } else {\r\n      this._sketchGraphicsLayer = new this.GraphicsLayer({ title });\r\n      state.managedLayers.push(title);\r\n      this.mapView.map.layers.add(this._sketchGraphicsLayer);\r\n    }\r\n\r\n    if (this.graphics && this.graphics.length > 0) {\r\n      this._sketchGraphicsLayer.addMany(this.graphics);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize the skecth widget and store the associated symbols for each geometry type\r\n   *\r\n   * @protected\r\n   */\r\n  protected _initDrawTools(): void {\r\n    this._sketchWidget = new this.Sketch({\r\n      layer: this._sketchGraphicsLayer,\r\n      view: this.mapView,\r\n      container: this._sketchElement,\r\n      creationMode: \"update\",\r\n      defaultCreateOptions: {\r\n        \"mode\": \"hybrid\"\r\n      }\r\n    });\r\n\r\n    this.pointSymbol = this._sketchWidget.viewModel.pointSymbol as __esri.SimpleMarkerSymbol;\r\n    this.polylineSymbol = this._sketchWidget.viewModel.polylineSymbol as __esri.SimpleLineSymbol;\r\n    this.polygonSymbol = this._sketchWidget.viewModel.polygonSymbol as __esri.SimpleFillSymbol;\r\n\r\n    this._sketchWidget.visibleElements = {\r\n      selectionTools: {\r\n        \"lasso-selection\": false,\r\n        \"rectangle-selection\": false\r\n      }, createTools: {\r\n        \"circle\": false,\r\n        \"point\": false\r\n      }\r\n    }\r\n\r\n    this._sketchWidget.on(\"update\", (evt) => {\r\n      if (evt.state === \"start\") {\r\n        this.graphics = evt.graphics;\r\n        this.sketchGraphicsChange.emit(this.graphics);\r\n      }\r\n      if (evt.state === \"active\") {\r\n        clearTimeout(this._selectionTimer);\r\n        this._selectionTimer = setTimeout(() => {\r\n          this.graphics = evt.graphics;\r\n          this.sketchGraphicsChange.emit(this.graphics);\r\n        }, 500);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Clear any stored graphics and remove all graphics from the graphics layer\r\n   *\r\n   * @protected\r\n   */\r\n  protected _clearSketch(): void {\r\n    this.graphics = [];\r\n    this._sketchGraphicsLayer.removeAll();\r\n  }\r\n\r\n  /**\r\n   * Fetches the component's translations\r\n   *\r\n   * @protected\r\n   */\r\n  protected async _getTranslations(): Promise<void> {\r\n    const translations = await getLocaleComponentStrings(this.el);\r\n    this._translations = translations[0] as typeof MapDrawTools_T9n;\r\n  }\r\n}\r\n","/** @license\r\n * Copyright 2022 Esri\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.div-visible {\r\n  display: inherit;\r\n}\r\n\r\n.div-not-visible {\r\n  display: none !important;\r\n}\r\n\r\n.padding-top-1-2 {\r\n  padding-top: .5rem;\r\n}\r\n\r\n.main-label {\r\n  display: flex;\r\n  float: left;\r\n}\r\n\r\nhtml[dir=\"rtl\"] .main-label {\r\n  display: flex;\r\n  float: right;\r\n}\r\n\r\n.border {\r\n  outline: 1px solid var(--calcite-ui-border-input);\r\n}\r\n\r\n.margin-top-1 {\r\n  margin-top: 1rem;\r\n}\r\n\r\n/* COPY FROM JS */\r\n.esri-sketch {\r\n  display: flex;\r\n  flex-flow: column wrap;\r\n}\r\n\r\n.esri-widget {\r\n  box-sizing: border-box;\r\n  color: #323232;\r\n  font-size: 14px;\r\n  font-family: \"Avenir Next\",\"Helvetica Neue\",Helvetica,Arial,sans-serif;\r\n  line-height: 1.3em;\r\n}\r\n\r\n/* DIV CHILD */\r\n.esri-sketch__panel {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  padding: 0;\r\n} */\r\n\r\n/* DIV CHILD CHILD */\r\n.esri-sketch__tool-section {\r\n  border-right: 1px solid rgba(110,110,110,.3);\r\n}\r\n\r\n.esri-sketch__section {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  padding: 0 7px;\r\n  margin: 6px 0;\r\n  border-right: 1px solid rgba(110,110,110,.3);\r\n}\r\n","/** @license\r\n * Copyright 2022 Esri\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { Component, Element, Event, EventEmitter, Host, h, Method, Prop, State, VNode, Watch } from \"@stencil/core\";\r\nimport { ERefineMode, ESelectionMode, ESelectionType, IRefineOperation } from \"../../utils/interfaces\";\r\nimport { loadModules } from \"../../utils/loadModules\";\r\nimport { getMapLayerView, highlightFeatures } from \"../../utils/mapViewUtils\";\r\nimport { queryFeaturesByGeometry } from \"../../utils/queryUtils\";\r\nimport state from \"../../utils/publicNotificationStore\";\r\nimport RefineSelectionTools_T9n from \"../../assets/t9n/refine-selection-tools/resources.json\";\r\nimport { getLocaleComponentStrings } from \"../../utils/locale\";\r\n\r\n@Component({\r\n  tag: \"refine-selection-tools\",\r\n  styleUrl: \"refine-selection-tools.css\",\r\n  shadow: true,\r\n})\r\nexport class RefineSelectionTools {\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Host element access\r\n  //\r\n  //--------------------------------------------------------------------------\r\n  @Element() el: HTMLRefineSelectionToolsElement;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Properties (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * boolean: sketch is used by multiple components...need a way to know who should respond...\r\n   */\r\n  @Prop() active = false;\r\n\r\n  /**\r\n   * boolean: Optionally draw a border around the draw tools\r\n   */\r\n  @Prop() border = false;\r\n\r\n  /**\r\n   * string[]: Optional list of enabled layer ids\r\n   *  If empty all layers will be available\r\n   */\r\n  @Prop() enabledLayerIds: string[] = [];\r\n\r\n  /**\r\n   * esri/Graphic: https://developers.arcgis.com/javascript/latest/api-reference/esri-Graphic.html\r\n   */\r\n  @Prop({ mutable: true }) graphics: __esri.Graphic[];\r\n\r\n  /**\r\n   * number: The oids of the selected features\r\n   */\r\n  @Prop() ids: number[] = [];\r\n\r\n  /**\r\n   * esri/views/layers/LayerView: https://developers.arcgis.com/javascript/latest/api-reference/esri-views-layers-LayerView.html\r\n   */\r\n  @Prop() layerView: __esri.FeatureLayerView;\r\n\r\n  /**\r\n   * esri/views/layers/FeatureLayerView: https://developers.arcgis.com/javascript/latest/api-reference/esri-views-layers-FeatureLayerView.html\r\n   */\r\n  @Prop() layerViews: __esri.FeatureLayerView[] = [];\r\n\r\n  /**\r\n   * esri/views/View: https://developers.arcgis.com/javascript/latest/api-reference/esri-views-MapView.html\r\n   */\r\n  @Prop() mapView: __esri.MapView;\r\n\r\n  /**\r\n   * utils/interfaces/ESelectionMode: ADD, REMOVE\r\n   */\r\n  @Prop() mode: ESelectionMode;\r\n\r\n  /**\r\n   * utils/interfaces/ERefineMode: ALL, SUBSET\r\n   */\r\n  @Prop() refineMode: ERefineMode;\r\n\r\n  /**\r\n   * boolean: Used to control the visibility of the layer picker\r\n   */\r\n  @Prop() useLayerPicker = true;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  State (internal)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * boolean: Is selected enabled\r\n   */\r\n  @State() _selectEnabled = false;\r\n\r\n  /**\r\n   * utils/interfaces/ESelectionType: POINT, LINE, POLY, RECT\r\n   */\r\n  @State() _selectionMode: ESelectionType;\r\n\r\n  /**\r\n   * Contains the translations for this component.\r\n   * All UI strings should be defined here.\r\n   */\r\n  @State() _translations: typeof RefineSelectionTools_T9n;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Properties (protected)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * esri/layers/GraphicsLayer: https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-GraphicsLayer.html\r\n   * The graphics layer constructor\r\n   */\r\n  protected GraphicsLayer: typeof import(\"esri/layers/GraphicsLayer\");\r\n\r\n  /**\r\n   * esri/widgets/Sketch/SketchViewModel: https://developers.arcgis.com/javascript/latest/api-reference/esri-widgets-Sketch-SketchViewModel.html\r\n   * The sketch view model constructor\r\n   */\r\n  protected SketchViewModel: typeof import(\"esri/widgets/Sketch/SketchViewModel\");\r\n\r\n  /**\r\n   * {<layer id>: Graphic[]}: Collection of graphics returned from queries to the layer\r\n   */\r\n  protected _featuresCollection: { [key: string]: __esri.Graphic[] } = {};\r\n\r\n  /**\r\n   * esri/core/Handles: https://developers.arcgis.com/javascript/latest/api-reference/esri-core-Handles.html#Handle\r\n   */\r\n  protected _hitTestHandle: __esri.Handle;\r\n\r\n  /**\r\n   * IRefineOperation[]: Array to maintain the possible redo operations\r\n   */\r\n  protected _redoStack: IRefineOperation[] = [];\r\n\r\n  /**\r\n   * esri/geometry/Geometry: https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-Geometry.html\r\n   */\r\n  protected _sketchGeometry: __esri.Geometry;\r\n\r\n  /**\r\n   * esri/layers/GraphicsLayer: https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-GraphicsLayer.html\r\n   * The graphics layer used to show selections.\r\n   */\r\n  protected _sketchGraphicsLayer: __esri.GraphicsLayer;\r\n\r\n  /**\r\n   * esri/widgets/Sketch/SketchViewModel: The html element for selecting buffer unit\r\n   * The sketch view model used to create graphics\r\n   */\r\n  protected _sketchViewModel: __esri.SketchViewModel;\r\n\r\n  /**\r\n   * IRefineOperation[]: Array to maintain the possible undo operations\r\n   */\r\n  protected _undoStack: IRefineOperation[] = [];\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Watch handlers\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Called each time the ids prop is changed.\r\n   * Highlight the features based on the provided ids\r\n   */\r\n  @Watch(\"ids\")\r\n  idsWatchHandler(v: any, oldV: any): void {\r\n    if (v && JSON.stringify(v) !== JSON.stringify(oldV)) {\r\n      void this._highlightFeatures(v);\r\n    }\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Methods (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Reset the ids collection\r\n   *\r\n   * @returns Promise when complete\r\n   */\r\n  @Method()\r\n  async reset(): Promise<void> {\r\n    this.ids = [];\r\n  }\r\n\r\n  /**\r\n   * Clear current highlight handle\r\n   *\r\n   * @returns Promise when complete\r\n   */\r\n  @Method()\r\n  async clearHighlight(): Promise<void> {\r\n    this._clearHighlight();\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Events (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Emitted on demand when selection graphics change.\r\n   */\r\n  @Event() refineSelectionGraphicsChange: EventEmitter<any[]>;\r\n\r\n  /**\r\n   * Emitted on demand when selection ids change\r\n   */\r\n  @Event() refineSelectionIdsChange: EventEmitter<{ addIds: any[]; removeIds: any[]; }>;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Functions (lifecycle)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * StencilJS: Called once just after the component is first connected to the DOM.\r\n   */\r\n  async componentWillLoad(): Promise<void> {\r\n    await this._getTranslations();\r\n    await this._initModules();\r\n  }\r\n\r\n  /**\r\n   * StencilJS: Called once just after the component is fully loaded and the first render() occurs.\r\n   */\r\n  componentDidLoad(): void {\r\n    this._init();\r\n  }\r\n\r\n  /**\r\n   * StencilJS: Called every time the component is disconnected from the DOM, ie,\r\n   * it can be dispatched more than once, DO not confuse with a \"onDestroy\" kind of event.\r\n   */\r\n  disconnectedCallback(): void {\r\n    this.active = false;\r\n  }\r\n\r\n  /**\r\n   * Called every time the component is connected to the DOM.\r\n   * When the component is first connected, this method is called before componentWillLoad.\r\n   */\r\n  connectedCallback(): void {\r\n    this.active = true;\r\n    if (this.ids.length > 0) {\r\n      this._selectEnabled = true;\r\n      void this._highlightFeatures(this.ids);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Renders the component.\r\n   */\r\n  render(): VNode {\r\n    const showLayerPickerClass = this.useLayerPicker ? \"div-visible\" : \"div-not-visible\";\r\n    const drawClass = this.border ? \" border\" : \"\";\r\n    return (\r\n      <Host>\r\n        <div>\r\n          {/* Removed if we use checkbox above to control layer vs interactive select */}\r\n          {/* <div class={\"main-label \" + showLayerPickerClass}>\r\n            <calcite-label>{this._translations.selectLayers}</calcite-label>\r\n          </div> */}\r\n          <map-layer-picker\r\n            class={showLayerPickerClass}\r\n            enabledLayerIds={this.enabledLayerIds}\r\n            mapView={this.mapView}\r\n            onLayerSelectionChange={(evt) => { void this._layerSelectionChange(evt) }}\r\n            selectedLayerIds={this.layerViews.map(l => l.layer.id)}\r\n            selectionMode={\"single\"}\r\n          />\r\n          <div class={\"margin-top-1\" + drawClass}>\r\n            <div class=\"esri-sketch esri-widget\">\r\n              <div class=\"esri-sketch__panel\">\r\n                <div class=\"esri-sketch__tool-section esri-sketch__section\">\r\n                  <calcite-action\r\n                    disabled={!this._selectEnabled}\r\n                    icon=\"select\"\r\n                    onClick={() => this._setSelectionMode(ESelectionType.POINT)}\r\n                    scale=\"s\"\r\n                    text={this._translations.select}\r\n                  />\r\n                </div>\r\n                <div class=\"esri-sketch__tool-section esri-sketch__section\">\r\n                  <calcite-action\r\n                    disabled={!this._selectEnabled}\r\n                    icon=\"line\"\r\n                    onClick={() => this._setSelectionMode(ESelectionType.LINE)}\r\n                    scale=\"s\"\r\n                    text={this._translations.selectLine}\r\n                  />\r\n                  <calcite-action\r\n                    disabled={!this._selectEnabled}\r\n                    icon=\"polygon\"\r\n                    onClick={() => this._setSelectionMode(ESelectionType.POLY)}\r\n                    scale=\"s\"\r\n                    text={this._translations.selectPolygon}\r\n                  />\r\n                  <calcite-action\r\n                    disabled={!this._selectEnabled}\r\n                    icon=\"rectangle\"\r\n                    onClick={() => this._setSelectionMode(ESelectionType.RECT)}\r\n                    scale=\"s\"\r\n                    text={this._translations.selectRectangle}\r\n                  />\r\n                </div>\r\n                <div class=\"esri-sketch__tool-section esri-sketch__section\">\r\n                  <calcite-action\r\n                    disabled={this._undoStack.length === 0}\r\n                    icon=\"undo\"\r\n                    onClick={() => this._undo()}\r\n                    scale=\"s\"\r\n                    text={this._translations.undo}\r\n                  />\r\n                  <calcite-action\r\n                    disabled={this._redoStack.length === 0}\r\n                    icon=\"redo\"\r\n                    onClick={() => this._redo()}\r\n                    scale=\"s\"\r\n                    text={this._translations.redo}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Functions (protected)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Initialize the graphics layer and skecth view model\r\n   *\r\n   * @returns Promise when the operation has completed\r\n   * @protected\r\n   */\r\n  protected _init(): void {\r\n    this._initGraphicsLayer();\r\n    this._initSketchViewModel();\r\n  }\r\n\r\n  /**\r\n   * Load esri javascript api modules\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   *\r\n   * @protected\r\n   */\r\n  protected async _initModules(): Promise<void> {\r\n    const [GraphicsLayer, SketchViewModel] = await loadModules([\r\n      \"esri/layers/GraphicsLayer\",\r\n      \"esri/widgets/Sketch/SketchViewModel\"\r\n    ]);\r\n    this.GraphicsLayer = GraphicsLayer;\r\n    this.SketchViewModel = SketchViewModel;\r\n  }\r\n\r\n  /**\r\n   * Initialize the skecth view model\r\n   *\r\n   * @returns Promise when the operation has completed\r\n   * @protected\r\n   */\r\n  protected _initSketchViewModel(): void {\r\n    this._sketchViewModel = new this.SketchViewModel({\r\n      layer: this._sketchGraphicsLayer,\r\n      defaultUpdateOptions: {\r\n        tool: \"reshape\",\r\n        toggleToolOnClick: false\r\n      },\r\n      view: this.mapView\r\n    });\r\n\r\n    this._sketchViewModel.on(\"create\", (event) => {\r\n      if (event.state === \"complete\" && this.active) {\r\n        this._featuresCollection = {};\r\n        this._sketchGeometry = event.graphic.geometry;\r\n        void this._selectFeatures(this._sketchGeometry);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Clear any skecth graphics\r\n   *\r\n   * @returns Promise when the operation has completed\r\n   * @protected\r\n   */\r\n  protected _clear(): void {\r\n    this._sketchGeometry = null;\r\n    this._sketchViewModel.cancel();\r\n    this._sketchGraphicsLayer.removeAll();\r\n  }\r\n\r\n  /**\r\n   * Initialize the graphics layer\r\n   *\r\n   * @returns Promise when the operation has completed\r\n   * @protected\r\n   */\r\n  protected _initGraphicsLayer(): void {\r\n    const title = this._translations.sketchLayer;\r\n    const sketchIndex = this.mapView.map.layers.findIndex((l) => l.title === title);\r\n    if (sketchIndex > -1) {\r\n      this._sketchGraphicsLayer = this.mapView.map.layers.getItemAt(sketchIndex) as __esri.GraphicsLayer;\r\n    } else {\r\n      this._sketchGraphicsLayer = new this.GraphicsLayer({ title });\r\n      state.managedLayers.push(title);\r\n      this.mapView.map.layers.add(this._sketchGraphicsLayer);\r\n    }\r\n\r\n    if (this.graphics && this.graphics.length > 0) {\r\n      this._sketchGraphicsLayer.addMany(this.graphics);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear selection based on map click\r\n   *\r\n   * @protected\r\n   */\r\n  protected _initHitTest(): void {\r\n    if (this._hitTestHandle) {\r\n      this._hitTestHandle.remove();\r\n    }\r\n    this._hitTestHandle = this.mapView.on(\"click\", (event) => {\r\n      event.stopPropagation();\r\n      const opts = {\r\n        include: this.layerViews.map(lv => lv.layer)\r\n      };\r\n      void this.mapView.hitTest(event, opts).then((response) => {\r\n        let graphics = [];\r\n        if (response.results.length > 0) {\r\n          graphics = response.results.reduce((prev, cur) => {\r\n            const g = (cur as any)?.graphic;\r\n            if (g) {\r\n              prev.push(g);\r\n            }\r\n            return prev;\r\n          }, []);\r\n        }\r\n        this.refineSelectionGraphicsChange.emit(graphics);\r\n        this._clear();\r\n      });\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * Gets the layer views from the map when the layer selection changes\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   *\r\n   * @protected\r\n   */\r\n  protected async _layerSelectionChange(\r\n    evt: CustomEvent\r\n  ): Promise<void> {\r\n    if (Array.isArray(evt.detail) && evt.detail.length > 0) {\r\n      this._selectEnabled = true;\r\n      const layerPromises = evt.detail.map(id => {\r\n        return getMapLayerView(this.mapView, id)\r\n      });\r\n\r\n      return Promise.all(layerPromises).then((layerViews) => {\r\n        this.layerViews = layerViews;\r\n      });\r\n    } else {\r\n      this._selectEnabled = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Store the current selection mode\r\n   *\r\n   * @protected\r\n   */\r\n  protected _setSelectionMode(\r\n    mode: ESelectionType\r\n  ): void {\r\n    this._selectionMode = mode;\r\n\r\n    if (this._hitTestHandle) {\r\n      this._hitTestHandle.remove();\r\n    }\r\n\r\n    switch (this._selectionMode) {\r\n      case ESelectionType.POINT:\r\n        this._sketchViewModel.create(\"point\");\r\n        //this._initHitTest();\r\n        break;\r\n      case ESelectionType.LINE:\r\n        this._sketchViewModel.create(\"polyline\");\r\n        break;\r\n      case ESelectionType.POLY:\r\n        this._sketchViewModel.create(\"polygon\");\r\n        break;\r\n      case ESelectionType.RECT:\r\n        this._sketchViewModel.create(\"rectangle\");\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Select features based on the input geometry\r\n   *\r\n   * @param geom the geometry used for selection\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   *\r\n   * @protected\r\n   */\r\n  protected async _selectFeatures(\r\n    geom: __esri.Geometry\r\n  ): Promise<void> {\r\n    const queryFeaturePromises = this.layerViews.map(layerView => {\r\n      this._featuresCollection[layerView.layer.id] = [];\r\n      return queryFeaturesByGeometry(0, layerView.layer, geom, this._featuresCollection)\r\n    });\r\n\r\n    return Promise.all(queryFeaturePromises).then(async response => {\r\n      let graphics = [];\r\n      response.forEach(r => {\r\n        Object.keys(r).forEach(k => {\r\n          graphics = graphics.concat(r[k]);\r\n        })\r\n      });\r\n\r\n      if (this.refineMode === ERefineMode.SUBSET) {\r\n        this.refineSelectionGraphicsChange.emit(graphics);\r\n      } else {\r\n        const oids = Array.isArray(graphics) ? graphics.map(g => g.attributes[g?.layer?.objectIdField]) : [];\r\n        await this._updateIds(oids, this.mode, this._undoStack, this.mode);\r\n      }\r\n      this._clear();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Highlight any selected features in the map\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   * @protected\r\n   */\r\n  protected async _highlightFeatures(\r\n    ids: number[],\r\n    updateExtent = false\r\n  ): Promise<void> {\r\n    this._clearHighlight();\r\n    if (ids.length > 0) {\r\n      state.highlightHandle = await highlightFeatures(ids, this.layerViews[0], this.mapView, updateExtent);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Clear any highlighted features in the map\r\n   *\r\n   * @protected\r\n   */\r\n  protected _clearHighlight(): void {\r\n    state.highlightHandle?.remove();\r\n  }\r\n\r\n  /**\r\n   * Update the ids for any ADD or REMOVE operation and highlight the features.\r\n   *\r\n   * @param oids the ids to add or remove\r\n   * @param mode ADD or REMOVE this will control if the ids are added or removed\r\n   * @param operationStack the undo or redo stack to push the operation to\r\n   * @param operationMode ADD or REMOVE the mode of the individual refine operation\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   *\r\n   * @protected\r\n   */\r\n  protected async _updateIds(\r\n    oids: number[],\r\n    mode: ESelectionMode,\r\n    operationStack: IRefineOperation[],\r\n    operationMode: ESelectionMode\r\n  ): Promise<void> {\r\n    const idUpdates = { addIds: [], removeIds: [] };\r\n    if (mode === ESelectionMode.ADD) {\r\n      idUpdates.addIds = oids.filter(id => this.ids.indexOf(id) < 0);\r\n      this.ids = [...this.ids, ...idUpdates.addIds];\r\n      operationStack.push({ mode: operationMode, ids: idUpdates.addIds });\r\n    } else {\r\n      idUpdates.removeIds = oids.filter(id => this.ids.indexOf(id) > -1);\r\n      this.ids = this.ids.filter(id => idUpdates.removeIds.indexOf(id) < 0);\r\n      operationStack.push({ mode: operationMode, ids: idUpdates.removeIds });\r\n    }\r\n    await this._highlightFeatures(this.ids).then(() => {\r\n      this.refineSelectionIdsChange.emit(idUpdates);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Undo the most current ADD or REMOVE operation\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   *\r\n   * @protected\r\n   */\r\n  protected _undo(): void {\r\n    const undoOp = this._undoStack.pop();\r\n    void this._updateIds(\r\n      undoOp.ids,\r\n      undoOp.mode === ESelectionMode.ADD ? ESelectionMode.REMOVE : ESelectionMode.ADD,\r\n      this._redoStack,\r\n      undoOp.mode\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Redo the most current ADD or REMOVE operation\r\n   *\r\n   * @returns Promise resolving when function is done\r\n   *\r\n   * @protected\r\n   */\r\n  protected _redo(): void {\r\n    const redoOp = this._redoStack.pop();\r\n    void this._updateIds(\r\n      redoOp.ids,\r\n      redoOp.mode,\r\n      this._undoStack,\r\n      redoOp.mode\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Fetches the component's translations\r\n   *\r\n   * @protected\r\n   */\r\n  protected async _getTranslations(): Promise<void> {\r\n    const translations = await getLocaleComponentStrings(this.el);\r\n    this._translations = translations[0] as typeof RefineSelectionTools_T9n;\r\n  }\r\n}\r\n"],"version":3}