{"version":3,"file":"add-record-modal.js","sourceRoot":"","sources":["../../../src/components/add-record-modal/add-record-modal.tsx"],"names":[],"mappings":"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","sourcesContent":["/** @license\r\n * Copyright 2022 Esri\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { Component, Element, Host, h, Prop, State } from '@stencil/core';\r\nimport AddRecordModal_T9n from \"../../assets/t9n/add-record-modal/resources.json\";\r\nimport { getLocaleComponentStrings } from \"../../utils/locale\";\r\n\r\n// TODO implement save logic\r\n\r\n@Component({\r\n  tag: 'add-record-modal',\r\n  styleUrl: 'add-record-modal.css',\r\n  shadow: true,\r\n})\r\nexport class AddRecordModal {\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Host element access\r\n  //\r\n  //--------------------------------------------------------------------------\r\n  @Element() el: HTMLAddRecordModalElement;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Properties (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * When true the component is displayed\r\n   */\r\n  @Prop({ mutable: true }) open = false;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  State (internal)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Contains the translations for this component.\r\n   * All UI strings should be defined here.\r\n   */\r\n  @State() _translations: typeof AddRecordModal_T9n;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Properties (protected)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Handle to the element for browsing for a file.\r\n   */\r\n  protected _browseForAttachment: HTMLInputElement;\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Watch handlers\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Methods (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Events (public)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Functions (lifecycle)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * StencilJS: Called once just after the component is first connected to the DOM.\r\n   *\r\n   * @returns Promise when complete\r\n   */\r\n  async componentWillLoad(): Promise<void> {\r\n    await this._getTranslations();\r\n  }\r\n\r\n  /**\r\n   * Renders the component.\r\n   */\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div>\r\n          <calcite-modal open={this.open} width=\"s\">\r\n            <div class=\"font-500\" slot=\"header\">{this._translations.addRecord}</div>\r\n            <div slot=\"content\">\r\n              <div>\r\n                <div class=\"padding-bottom-1\">\r\n                  <calcite-label class=\"font-bold\">\r\n                    {this._translations.source}\r\n                    <calcite-input placeholder={this._translations.textField} type='textarea' />\r\n                  </calcite-label>\r\n                </div>\r\n                <div class=\"padding-bottom-1\">\r\n                  <calcite-label class=\"font-bold\">\r\n                    {this._translations.publicView}\r\n                    <calcite-input placeholder={this._translations.textField} type='textarea' />\r\n                  </calcite-label>\r\n                </div>\r\n                <div class=\"padding-bottom-1\">\r\n                  <calcite-label class=\"font-bold\">\r\n                    {this._translations.attachments}\r\n                    {/* TODO the design has this smaller with rounded border.\r\n                    Can't quite get that with calcite from what I see...look more or go custom */}\r\n                    <div>\r\n                      <input\r\n                        class=\"display-none\"\r\n                        onChange={(event) => (this._updateAttachment(event))}\r\n                        ref={(el) => (this._browseForAttachment = el)}\r\n                        type=\"file\"\r\n                      />\r\n                      <calcite-button\r\n                        appearance=\"solid\"\r\n                        color=\"neutral\"\r\n                        onClick={() => this._browse()}\r\n                        width='auto'>\r\n                        {this._translations.browse}\r\n                      </calcite-button>\r\n                    </div>\r\n                  </calcite-label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <calcite-button\r\n              appearance=\"outline\"\r\n              onClick={() => this._cancel()}\r\n              slot=\"secondary\"\r\n              width=\"full\"\r\n            >\r\n              {this._translations.cancel}\r\n            </calcite-button>\r\n            <calcite-button\r\n              appearance=\"solid\"\r\n              onClick={() => this._save()}\r\n              slot=\"primary\"\r\n              width=\"full\"\r\n            >\r\n              {this._translations.save}\r\n            </calcite-button>\r\n          </calcite-modal>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  //--------------------------------------------------------------------------\r\n  //\r\n  //  Functions (protected)\r\n  //\r\n  //--------------------------------------------------------------------------\r\n\r\n  /**\r\n   * Opens the browse dialog\r\n   *\r\n   * @returns void\r\n   */\r\n  protected _browse(): void {\r\n    this._browseForAttachment.click();\r\n  }\r\n\r\n  /**\r\n   * Closes the modal\r\n   *\r\n   * @returns void\r\n   */\r\n  protected _cancel(): void {\r\n    this.open = false;\r\n  }\r\n\r\n  // TODO needs to be implemented will handle save of the record\r\n  protected _save(): void {\r\n    this.open = false;\r\n  }\r\n\r\n  /**\r\n   * Gets the result file from browse\r\n   *\r\n   * @param event The input controls event that contains the new file\r\n   */\r\n  protected _updateAttachment(\r\n    event: any\r\n  ): void {\r\n    const files = event.target.files;\r\n    if (files && files[0]) {\r\n      console.log(files[0]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fetches the component's translations\r\n   *\r\n   * @returns Promise when complete\r\n   * @protected\r\n   */\r\n  protected async _getTranslations(): Promise<void> {\r\n    const messages = await getLocaleComponentStrings(this.el);\r\n    this._translations = messages[0] as typeof AddRecordModal_T9n;\r\n  }\r\n\r\n}\r\n"]}