{"version":3,"file":"pdfUtils.js","sourceRoot":"","sources":["../../src/utils/pdfUtils.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;GAcG;AAEH,OAAO,KAAK,IAAI,MAAM,mCAAmC,CAAC;AAC1D,OAAO,KAAK,UAAU,MAAM,yCAAyC,CAAC;AACtE,OAAO,KAAK,gBAAgB,MAAM,+CAA+C,CAAC;AAElF;;;;;GAKG;AACH,MAAM,UAAU,SAAS,CACvB,MAAkB,EAClB,oBAAyB;EAEzB,gBAAgB,CAAC,MAAM,EAAE,oBAAoB,EAAE,UAAU,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;AACpF,CAAC;AAED;;;;;;GAMG;AACH,SAAS,gBAAgB,CACvB,MAAkB,EAClB,oBAAyB,EACzB,SAAiB;EAEjB,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAE,MAAM,EAAE,oBAAoB,EAAE,SAAS,CAAC,CAAC,CAAA,KAAK;EAE9E,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;EAEhE,MAAM,MAAM,GAAG,IAAI,gBAAgB,EAAE,CAAC;EACtC,MAAM,CAAC,UAAU,CACf;IACE,QAAQ,EAAE,QAAQ;GACnB,EAAE,aAAa,EAAE,IAAI,EACtB,WAAW,EAAE,KAAK,CACnB;KACA,IAAI,CACH,GAAG,EAAE;IACH,6BAA6B;IAC7B,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;IAElC,uBAAuB;IACvB,IAAI,CAAC,eAAe,CAClB,MAAM,EACN;MACE,SAAS,EAAE,EAAE;MACb,OAAO,EAAE,EAAE;MACX,EAAE,EAAE,IAAI;MACR,EAAE,EAAE,IAAI;MACR,KAAK,EAAE,GAAG;MACV,MAAM,EAAE,IAAI;MACZ,QAAQ,EAAE,IAAI;MACd,OAAO,EAAE,IAAI;MACb,cAAc,EAAE;QACd,SAAS,EAAE,IAAI;QACf,KAAK,EAAE,QAAQ;QACf,OAAO,EAAE,IAAI,CAAE,OAAO;OACvB;KACF,CAAE,yBAAyB;KAC7B,CAAC;IAEF,MAAM,CAAC,IAAI,EAAE,CAAC;EAChB,CAAC,CACF,CAAC;AAEJ,CAAC","sourcesContent":["/** @license\r\n * Copyright 2022 Esri\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *    http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport * as grid from \"../assets/arcgis-pdf-creator/grid\";\r\nimport * as PDFCreator from \"../assets/arcgis-pdf-creator/PDFCreator\";\r\nimport * as PDFCreator_jsPDF from \"../assets/arcgis-pdf-creator/PDFCreator_jsPDF\";\r\n\r\n/**\r\n * Exports a PDF of labels.\r\n *\r\n * @param labels Labels to write\r\n * @param labelPageDescription Page format to use for labels\r\n */\r\nexport function exportPDF(\r\n  labels: string[][],\r\n  labelPageDescription: any\r\n): void {\r\n  _downloadPDFFile(labels, labelPageDescription, `notify-${Date.now().toString()}`);\r\n}\r\n\r\n/**\r\n * Downloads the PDF file.\r\n *\r\n * @param labels Labels to write\r\n * @param labelPageDescription Page format to use for labels\r\n * @param fileTitle Title (without file extension) to use for file; defaults to \"export\"\r\n */\r\nfunction _downloadPDFFile(\r\n  labels: string[][],\r\n  labelPageDescription: any,\r\n  fileTitle: string\r\n): void {\r\n  console.log(\"_downloadPDFFile\", labels, labelPageDescription, fileTitle);//???\r\n\r\n  console.log(JSON.stringify((new PDFCreator).getPageSize(\"A4\")));\r\n\r\n  const pdfLib = new PDFCreator_jsPDF();\r\n  pdfLib.initialize(\r\n    {\r\n      pageType: \"ANSI_A\"\r\n    }, \"../../dist/\", \"en\",\r\n    \"My Labels\", false\r\n  )\r\n  .then(\r\n    () => {\r\n      // Draw frame with tick marks\r\n      grid.drawMeasurementLines(pdfLib);\r\n\r\n      // Draw a grid of boxes\r\n      grid.drawGridOfBoxes(\r\n        pdfLib,\r\n        {\r\n          numAcross: 10,\r\n          numDown: 10,\r\n          x0: 0.25,\r\n          y0: 0.25,\r\n          width: 0.5,\r\n          height: 0.25,\r\n          horizGap: 0.25,\r\n          vertGap: 0.25,\r\n          lineProperties: {\r\n            thickness: 0.01,  // inches\r\n            color: \"00ff00\",  // i.e., green\r\n            opacity: 0.75  // 0..1\r\n          }\r\n        }  // as pdfLib.IGridOptions\r\n      );\r\n\r\n      pdfLib.save();\r\n    }\r\n  );\r\n\r\n}\r\n"]}